âœ… SPIRAL Feature 8: Wishlist Alerts + Back-in-Stock Notification System â€“ COMPLETE & TESTED
- Alerts now trigger for price drops, back-in-stock events, and low inventory
- Preferences working across email, simulated SMS, and dashboard alerts
- Admin panel for tracking and testing alerts is live

---

ğŸš€ **NEXT FEATURE REQUEST â€“ Feature 9: Multi-Retailer Gift Card System + Redemption Flow**

ğŸ¯ GOAL:
Enable users to purchase, send, and redeem SPIRAL Gift Cards across multiple retailers and malls.

ğŸ“¦ FEATURE COMPONENTS:

1. **Gift Card Purchase Interface**
   - `/gift-cards` public page with pre-set values ($10, $25, $50, $100) + custom option
   - Name/email for gift sender & recipient
   - Option to include message + scheduled delivery date
   - Stripe integration for payment
   - Order confirmation + email delivery (PDF gift card code)

2. **Gift Card Generation & Storage**
   - Unique code generation (`SPRL-XXXX-XXXX`)
   - Stored in `gift_cards` DB table with balance, sender/recipient info, status, expiration (optional)
   - Auto-link to user account if recipient is registered

3. **Gift Card Redemption (Cart Integration)**
   - Cart promo box accepts gift card code
   - Validates code + available balance
   - Applies partial or full value toward order
   - Shows remaining balance and updates in DB

4. **Gift Card Management Dashboard (/account/gift-cards)**
   - Displays received, sent, and used cards
   - Balance tracking and expiration dates
   - â€œSend anotherâ€ and â€œResend codeâ€ options

5. **Admin Panel (/admin/gift-cards)**
   - Create gift cards manually (promo/testing)
   - Track redemptions, resend emails, deactivate codes

ğŸ§± DATABASE SCHEMA:
- `gift_cards`: id, code, sender_name, recipient_email, amount, balance, status, expiration_date, created_at
- `gift_card_redemptions`: id, gift_card_id, user_id, order_id, amount_used, redeemed_at

ğŸ§ª **TEST INSTRUCTIONS**:
1. Visit `/gift-cards` and purchase a $25 card (enter test email for recipient)
2. Verify Stripe flow works and email is sent with code
3. Try applying the code at checkout â†’ should deduct amount from cart
4. Visit `/account/gift-cards` â†’ check balance and usage history
5. Try splitting payment across gift card + credit card
6. Visit `/admin/gift-cards` â†’ verify creation, status toggle, resend function

ğŸ” SECURITY:
- Code expiration + one-time usage flag
- Stripe payment validation
- Cross-site script protection on gift card message inputs

ğŸ“± MOBILE UX:
- Gift card form and display fully responsive
- Email with mobile-friendly PDF or embedded code

â˜ï¸ DEPLOYMENT NOTE (Vercel â†’ IBM Cloud):
- Keep all gift card email and code generation modular for future cloud hook routing
- Design email service abstraction to allow switch from Sendgrid â†’ IBM Cloud SMTP easily

---

Once verified, we will proceed to Feature 10: **Retailer & Mall Analytics Feed (Insights + Live Sales Dashboard)**.