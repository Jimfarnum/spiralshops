import{R as j,aY as de,r as V,j as e,e as k,B as ue,Q as Ce,C as E,d as L,F as Oe,J as $e,K as Y,P as ke,M as H,a as F,b as K,q as U,S as Ee}from"./index-sTi6BLPu.js";import{u as Le}from"./useQuery-4av79AcX.js";import{S as Te,a as De,b as _e,c as Re,d as X}from"./select-U2_IWgob.js";import{P as Ie}from"./progress-Cf362TSq.js";import{A as me}from"./activity-_qjqvmcS.js";import{T as he}from"./target-fQiuIzjo.js";import{R as Be}from"./refresh-cw-bGZJGN_p.js";import{D as Fe}from"./download-DcxnRBbC.js";import{S as Ke}from"./shopping-cart-DjSog6GS.js";import{U as Ue}from"./users-n91sDYUr.js";import{T as te}from"./trending-up-CRcGIWQN.js";import{T as Q}from"./triangle-alert-CgctdoVb.js";import{i as We,D as Ve,f as ze,L as re,a as Z,C as Me,A as qe,b as W,c as Ge,d as ie,h as Ye,e as He,G as Xe,g as je,j as pe,u as Qe,E as Ze,k as Je,X as ne,Y as oe,l as et,m as fe,R as ae,n as xe,T as se,o as tt,P as ge,p as rt,q as at}from"./AreaChart-ym-ikvBO.js";import{I as st}from"./info-CHxOX6WX.js";import{Z as it}from"./zap-1vep6Tn5.js";import{E as nt}from"./eye-BfDIBTgL.js";import"./index-BdQq_4o_.js";import"./chevron-down-BDj7HIg7.js";import"./check-Cok4To_4.js";import"./index-D04l966U.js";var ot=["type","layout","connectNulls","ref"],lt=["key"];function D(t){"@babel/helpers - typeof";return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},D(t)}function ve(t,s){if(t==null)return{};var a=ct(t,s),r,l;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(l=0;l<n.length;l++)r=n[l],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function ct(t,s){if(t==null)return{};var a={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(s.indexOf(r)>=0)continue;a[r]=t[r]}return a}function z(){return z=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},z.apply(this,arguments)}function ye(t,s){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);s&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),a.push.apply(a,r)}return a}function A(t){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?ye(Object(a),!0).forEach(function(r){S(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ye(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function T(t){return ht(t)||mt(t)||ut(t)||dt()}function dt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ut(t,s){if(t){if(typeof t=="string")return le(t,s);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return le(t,s)}}function mt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ht(t){if(Array.isArray(t))return le(t)}function le(t,s){(s==null||s>t.length)&&(s=t.length);for(var a=0,r=new Array(s);a<s;a++)r[a]=t[a];return r}function pt(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function be(t,s){for(var a=0;a<s.length;a++){var r=s[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ne(r.key),r)}}function ft(t,s,a){return s&&be(t.prototype,s),a&&be(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function xt(t,s,a){return s=J(s),gt(t,we()?Reflect.construct(s,a||[],J(t).constructor):s.apply(t,a))}function gt(t,s){if(s&&(D(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vt(t)}function vt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function we(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(we=function(){return!!t})()}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},J(t)}function yt(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&ce(t,s)}function ce(t,s){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,l){return r.__proto__=l,r},ce(t,s)}function S(t,s,a){return s=Ne(s),s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}function Ne(t){var s=bt(t,"string");return D(s)=="symbol"?s:s+""}function bt(t,s){if(D(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,s||"default");if(D(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}var M=function(t){function s(){var a;pt(this,s);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return a=xt(this,s,[].concat(l)),S(a,"state",{isAnimationFinished:!0,totalLength:0}),S(a,"generateSimpleStrokeDasharray",function(i,c){return"".concat(c,"px ").concat(i-c,"px")}),S(a,"getStrokeDasharray",function(i,c,m){var f=m.reduce(function(x,y){return x+y});if(!f)return a.generateSimpleStrokeDasharray(c,i);for(var v=Math.floor(i/f),h=i%f,p=c-i,g=[],u=0,o=0;u<m.length;o+=m[u],++u)if(o+m[u]>h){g=[].concat(T(m.slice(0,u)),[h-o]);break}var d=g.length%2===0?[0,p]:[p];return[].concat(T(s.repeat(m,v)),T(g),d).map(function(x){return"".concat(x,"px")}).join(", ")}),S(a,"id",Qe("recharts-line-")),S(a,"pathRef",function(i){a.mainCurve=i}),S(a,"handleAnimationEnd",function(){a.setState({isAnimationFinished:!0}),a.props.onAnimationEnd&&a.props.onAnimationEnd()}),S(a,"handleAnimationStart",function(){a.setState({isAnimationFinished:!1}),a.props.onAnimationStart&&a.props.onAnimationStart()}),a}return yt(s,t),ft(s,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,l){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.points,c=n.xAxis,m=n.yAxis,f=n.layout,v=n.children,h=ze(v,Ze);if(!h)return null;var p=function(o,d){return{x:o.x,y:o.y,value:o.value,errorVal:je(o.payload,d)}},g={clipPath:r?"url(#clipPath-".concat(l,")"):null};return j.createElement(re,g,h.map(function(u){return j.cloneElement(u,{key:"bar-".concat(u.props.dataKey),data:i,xAxis:c,yAxis:m,layout:f,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,l,n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var c=this.props,m=c.dot,f=c.points,v=c.dataKey,h=Z(this.props,!1),p=Z(m,!0),g=f.map(function(o,d){var x=A(A(A({key:"dot-".concat(d),r:3},h),p),{},{index:d,cx:o.x,cy:o.y,value:o.value,dataKey:v,payload:o.payload,points:f});return s.renderDotItem(m,x)}),u={clipPath:r?"url(#clipPath-".concat(l?"":"dots-").concat(n,")"):null};return j.createElement(re,z({className:"recharts-line-dots",key:"dots"},u),g)}},{key:"renderCurveStatically",value:function(r,l,n,i){var c=this.props,m=c.type,f=c.layout,v=c.connectNulls;c.ref;var h=ve(c,ot),p=A(A(A({},Z(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:l?"url(#clipPath-".concat(n,")"):null,points:r},i),{},{type:m,layout:f,connectNulls:v});return j.createElement(Me,z({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,l){var n=this,i=this.props,c=i.points,m=i.strokeDasharray,f=i.isAnimationActive,v=i.animationBegin,h=i.animationDuration,p=i.animationEasing,g=i.animationId,u=i.animateNewValues,o=i.width,d=i.height,x=this.state,y=x.prevPoints,C=x.totalLength;return j.createElement(qe,{begin:v,duration:h,isActive:f,easing:p,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var b=P.t;if(y){var w=y.length/c.length,O=c.map(function(N,ee){var I=Math.floor(ee*w);if(y[I]){var B=y[I],$=W(B.x,N.x),Ae=W(B.y,N.y);return A(A({},N),{},{x:$(b),y:Ae(b)})}if(u){var Se=W(o*2,N.x),Pe=W(d/2,N.y);return A(A({},N),{},{x:Se(b),y:Pe(b)})}return A(A({},N),{},{x:N.x,y:N.y})});return n.renderCurveStatically(O,r,l)}var q=W(0,C),_=q(b),R;if(m){var G="".concat(m).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});R=n.getStrokeDasharray(_,C,G)}else R=n.generateSimpleStrokeDasharray(C,_);return n.renderCurveStatically(c,r,l,{strokeDasharray:R})})}},{key:"renderCurve",value:function(r,l){var n=this.props,i=n.points,c=n.isAnimationActive,m=this.state,f=m.prevPoints,v=m.totalLength;return c&&i&&i.length&&(!f&&v>0||!Ge(f,i))?this.renderCurveWithAnimation(r,l):this.renderCurveStatically(i,r,l)}},{key:"render",value:function(){var r,l=this.props,n=l.hide,i=l.dot,c=l.points,m=l.className,f=l.xAxis,v=l.yAxis,h=l.top,p=l.left,g=l.width,u=l.height,o=l.isAnimationActive,d=l.id;if(n||!c||!c.length)return null;var x=this.state.isAnimationFinished,y=c.length===1,C=de("recharts-line",m),P=f&&f.allowDataOverflow,b=v&&v.allowDataOverflow,w=P||b,O=ie(d)?this.id:d,q=(r=Z(i,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},_=q.r,R=_===void 0?3:_,G=q.strokeWidth,N=G===void 0?2:G,ee=Ye(i)?i:{},I=ee.clipDot,B=I===void 0?!0:I,$=R*2+N;return j.createElement(re,{className:C},P||b?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(O)},j.createElement("rect",{x:P?p:p-g/2,y:b?h:h-u/2,width:P?g:g*2,height:b?u:u*2})),!B&&j.createElement("clipPath",{id:"clipPath-dots-".concat(O)},j.createElement("rect",{x:p-$/2,y:h-$/2,width:g+$,height:u+$}))):null,!y&&this.renderCurve(w,O),this.renderErrorBar(w,O),(y||i)&&this.renderDots(w,B,O),(!o||x)&&He.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,l){return r.animationId!==l.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:l.curPoints}:r.points!==l.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,l){for(var n=r.length%2!==0?[].concat(T(r),[0]):r,i=[],c=0;c<l;++c)i=[].concat(T(i),T(n));return i}},{key:"renderDotItem",value:function(r,l){var n;if(j.isValidElement(r))n=j.cloneElement(r,l);else if(We(r))n=r(l);else{var i=l.key,c=ve(l,lt),m=de("recharts-line-dot",typeof r!="boolean"?r.className:"");n=j.createElement(Ve,z({key:i},c,{className:m}))}return n}}])}(V.PureComponent);S(M,"displayName","Line");S(M,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Xe.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});S(M,"getComposedData",function(t){var s=t.props,a=t.xAxis,r=t.yAxis,l=t.xAxisTicks,n=t.yAxisTicks,i=t.dataKey,c=t.bandSize,m=t.displayedData,f=t.offset,v=s.layout,h=m.map(function(p,g){var u=je(p,i);return v==="horizontal"?{x:pe({axis:a,ticks:l,bandSize:c,entry:p,index:g}),y:ie(u)?null:r.scale(u),value:u,payload:p}:{x:ie(u)?null:a.scale(u),y:pe({axis:r,ticks:n,bandSize:c,entry:p,index:g}),value:u,payload:p}});return A({points:h,layout:v},f)});var jt=Je({chartName:"LineChart",GraphicalChild:M,axisComponents:[{axisType:"xAxis",AxisComp:ne},{axisType:"yAxis",AxisComp:oe}],formatAxisMap:et});function Wt(){var g,u;const[t,s]=V.useState("30d"),[a]=V.useState(1),[r,l]=V.useState(!1),[n]=V.useState(()=>`retailer-${Date.now()}-${Math.random().toString(36).substr(2,9)}`),{data:i,isLoading:c,refetch:m}=Le({queryKey:[`/api/retailer/${a}/analytics`,t,n],queryFn:async()=>{var x,y,C,P;const o=await fetch(`/api/retailer/${a}/analytics?timeframe=${t}&sessionId=${n}`);if(!o.ok)throw new Error("Failed to fetch analytics");const d=await o.json();return{...d,topProducts:((x=d.topProducts)==null?void 0:x.map((b,w)=>({...b,id:`product-${n}-${w}`})))||[],salesByDay:((y=d.salesByDay)==null?void 0:y.map((b,w)=>({...b,id:`day-${n}-${w}`})))||[],categoryBreakdown:((C=d.categoryBreakdown)==null?void 0:C.map((b,w)=>({...b,id:`category-${n}-${w}`})))||[],alerts:((P=d.alerts)==null?void 0:P.map((b,w)=>({...b,id:`alert-${n}-${w}`})))||[]}},refetchInterval:3e4}),f=async()=>{l(!0),await m(),setTimeout(()=>l(!1),1e3)},v=async()=>{try{const d=await(await fetch(`/api/retailer/${a}/analytics/export?timeframe=${t}&sessionId=${n}`)).blob(),x=window.URL.createObjectURL(d),y=document.createElement("a");y.href=x,y.download=`retailer-analytics-${t}-${n}.csv`,document.body.appendChild(y),y.click(),window.URL.revokeObjectURL(x),document.body.removeChild(y)}catch(o){console.error("Export failed:",o)}},h=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o),p=["#006d77","#ff9f1c","#e9c46a","#f4a261","#e76f51","#2a9d8f","#264653"];return c?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-6",id:`loading-${n}`,children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-12 bg-gradient-to-r from-gray-200 to-gray-300 rounded-xl w-1/2"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[1,2,3,4].map(o=>e.jsx("div",{className:"h-32 bg-gradient-to-br from-gray-200 to-gray-300 rounded-xl"},`skeleton-${o}`))})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-6",id:`retailer-analytics-${n}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-8",id:`header-${n}`,children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-[#006d77] to-[#2a9d8f] bg-clip-text text-transparent",children:"ðŸ“Š Enhanced Retailer Analytics"}),e.jsxs("p",{className:"text-slate-600 text-lg",children:["Session ID: ",e.jsx("code",{className:"bg-slate-100 px-2 py-1 rounded text-sm",children:n})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(k,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(me,{className:"h-3 w-3 mr-1"}),"Live Updates Every 30s"]}),e.jsxs(k,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),"Real-time Data"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Te,{value:t,onValueChange:s,children:[e.jsx(De,{className:"w-40 bg-white border-2 border-[#006d77]/20 focus:border-[#006d77]",children:e.jsx(_e,{})}),e.jsxs(Re,{children:[e.jsx(X,{value:"today",children:"Today"}),e.jsx(X,{value:"7d",children:"Last 7 Days"}),e.jsx(X,{value:"30d",children:"Last 30 Days"}),e.jsx(X,{value:"90d",children:"Last 90 Days"})]})]}),e.jsxs(ue,{onClick:f,disabled:r,className:"bg-[#006d77] hover:bg-[#004d55] text-white shadow-lg",id:`refresh-btn-${n}`,children:[e.jsx(Be,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]}),e.jsxs(ue,{onClick:v,variant:"outline",className:"border-2 border-[#ff9f1c] text-[#ff9f1c] hover:bg-[#ff9f1c] hover:text-white",id:`export-btn-${n}`,children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",id:`kpi-grid-${n}`,children:[{title:"Total Sales",value:h((i==null?void 0:i.totalSales)||0),icon:Ce,change:"+12.5%",color:"from-green-500 to-emerald-600",bgColor:"bg-green-50",id:`kpi-sales-${n}`},{title:"Total Orders",value:((g=i==null?void 0:i.totalOrders)==null?void 0:g.toLocaleString())||"0",icon:Ke,change:"+8.2%",color:"from-blue-500 to-cyan-600",bgColor:"bg-blue-50",id:`kpi-orders-${n}`},{title:"Avg Order Value",value:h((i==null?void 0:i.avgOrderValue)||0),icon:he,change:"+5.1%",color:"from-purple-500 to-violet-600",bgColor:"bg-purple-50",id:`kpi-aov-${n}`},{title:"Repeat Customers",value:((u=i==null?void 0:i.repeatCustomers)==null?void 0:u.toLocaleString())||"0",icon:Ue,change:"+15.3%",color:"from-orange-500 to-red-600",bgColor:"bg-orange-50",id:`kpi-repeat-${n}`}].map(o=>e.jsx(E,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden",id:o.id,children:e.jsxs(L,{className:"p-0",children:[e.jsx("div",{className:`h-2 bg-gradient-to-r ${o.color}`}),e.jsxs("div",{className:`p-6 ${o.bgColor}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${o.color} shadow-lg`,children:e.jsx(o.icon,{className:"h-6 w-6 text-white"})}),e.jsxs(k,{variant:"secondary",className:"bg-white/70 text-slate-700",children:[e.jsx(te,{className:"h-3 w-3 mr-1"}),o.change]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:o.title}),e.jsx("p",{className:"text-3xl font-bold text-slate-900",children:o.value})]})]})]})},o.id))}),e.jsxs(Oe,{defaultValue:"overview",className:"space-y-6",id:`analytics-tabs-${n}`,children:[e.jsxs($e,{className:"grid w-full grid-cols-4 bg-white border-2 border-slate-200 p-1 rounded-xl shadow-sm",children:[e.jsxs(Y,{value:"overview",className:"data-[state=active]:bg-[#006d77] data-[state=active]:text-white rounded-lg",children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Overview"]}),e.jsxs(Y,{value:"products",className:"data-[state=active]:bg-[#006d77] data-[state=active]:text-white rounded-lg",children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),"Products"]}),e.jsxs(Y,{value:"trends",className:"data-[state=active]:bg-[#006d77] data-[state=active]:text-white rounded-lg",children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),"Trends"]}),e.jsxs(Y,{value:"alerts",className:"data-[state=active]:bg-[#006d77] data-[state=active]:text-white rounded-lg",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Alerts"]})]}),e.jsx(H,{value:"overview",className:"space-y-6",id:`overview-tab-${n}`,children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(E,{className:"border-0 shadow-lg",id:`sales-chart-${n}`,children:[e.jsxs(F,{className:"bg-gradient-to-r from-[#006d77] to-[#2a9d8f] text-white rounded-t-xl",children:[e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-5 w-5"}),"Sales Performance Trend"]}),e.jsx(U,{className:"text-blue-100",children:"Daily sales over the selected period"})]}),e.jsx(L,{className:"p-6 bg-gradient-to-br from-blue-50 to-cyan-50",children:e.jsx(ae,{width:"100%",height:300,children:e.jsxs(fe,{data:(i==null?void 0:i.salesByDay)||[],children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:`salesGradient-${n}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#006d77",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#006d77",stopOpacity:.1})]})}),e.jsx(xe,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),e.jsx(ne,{dataKey:"date",stroke:"#64748b",fontSize:12}),e.jsx(oe,{stroke:"#64748b",fontSize:12}),e.jsx(se,{contentStyle:{backgroundColor:"white",border:"2px solid #006d77",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0,0,0,0.1)"},formatter:o=>[h(Number(o)),"Sales"]}),e.jsx(tt,{type:"monotone",dataKey:"sales",stroke:"#006d77",strokeWidth:3,fill:`url(#salesGradient-${n})`})]})})})]}),e.jsxs(E,{className:"border-0 shadow-lg",id:`category-chart-${n}`,children:[e.jsxs(F,{className:"bg-gradient-to-r from-[#ff9f1c] to-[#f4a261] text-white rounded-t-xl",children:[e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-5 w-5"}),"Category Performance"]}),e.jsx(U,{className:"text-orange-100",children:"Revenue distribution by category"})]}),e.jsx(L,{className:"p-6 bg-gradient-to-br from-orange-50 to-yellow-50",children:e.jsx(ae,{width:"100%",height:300,children:e.jsxs(ge,{children:[e.jsx(rt,{data:(i==null?void 0:i.categoryBreakdown)||[],cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:5,dataKey:"percentage",label:({category:o,percentage:d})=>`${o} ${d}%`,children:((i==null?void 0:i.categoryBreakdown)||[]).map((o,d)=>e.jsx(at,{fill:p[d%p.length]},`cell-${o.id||d}`))}),e.jsx(se,{formatter:(o,d,x)=>[`${o}%`,x.payload.category],contentStyle:{backgroundColor:"white",border:"2px solid #ff9f1c",borderRadius:"12px"}})]})})})]})]})}),e.jsx(H,{value:"products",className:"space-y-6",id:`products-tab-${n}`,children:e.jsxs(E,{className:"border-0 shadow-lg",id:`top-products-${n}`,children:[e.jsxs(F,{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-t-xl",children:[e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"h-5 w-5"}),"Top Performing Products"]}),e.jsx(U,{className:"text-purple-100",children:"Best-selling products by revenue and units"})]}),e.jsx(L,{className:"p-6 bg-gradient-to-br from-purple-50 to-indigo-50",children:e.jsx("div",{className:"space-y-4",children:((i==null?void 0:i.topProducts)||[]).map((o,d)=>{var x;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl shadow-sm border-l-4 border-purple-500",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold",children:["#",d+1]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[o.units," units sold"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xl font-bold text-gray-900",children:h(o.sales)}),e.jsx(Ie,{value:o.sales/(((x=i==null?void 0:i.topProducts[0])==null?void 0:x.sales)||1)*100,className:"w-20 mt-1"})]})]},o.id||`product-${d}`)})})})]})}),e.jsx(H,{value:"trends",className:"space-y-6",id:`trends-tab-${n}`,children:e.jsxs(E,{className:"border-0 shadow-lg",id:`trends-analysis-${n}`,children:[e.jsxs(F,{className:"bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-t-xl",children:[e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5"}),"Sales Trend Analysis"]}),e.jsx(U,{className:"text-emerald-100",children:"Detailed trend visualization with insights"})]}),e.jsx(L,{className:"p-6 bg-gradient-to-br from-emerald-50 to-teal-50",children:e.jsx(ae,{width:"100%",height:400,children:e.jsxs(jt,{data:(i==null?void 0:i.salesByDay)||[],children:[e.jsx(xe,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),e.jsx(ne,{dataKey:"date",stroke:"#64748b"}),e.jsx(oe,{stroke:"#64748b"}),e.jsx(se,{contentStyle:{backgroundColor:"white",border:"2px solid #10b981",borderRadius:"12px"},formatter:o=>[h(Number(o)),"Sales"]}),e.jsx(M,{type:"monotone",dataKey:"sales",stroke:"#10b981",strokeWidth:4,dot:{fill:"#10b981",strokeWidth:2,r:6},activeDot:{r:8,stroke:"#10b981",strokeWidth:2}})]})})})]})}),e.jsx(H,{value:"alerts",className:"space-y-6",id:`alerts-tab-${n}`,children:e.jsxs(E,{className:"border-0 shadow-lg",id:`alerts-panel-${n}`,children:[e.jsxs(F,{className:"bg-gradient-to-r from-red-600 to-pink-600 text-white rounded-t-xl",children:[e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5"}),"System Alerts & Notifications"]}),e.jsx(U,{className:"text-red-100",children:"Important updates and alerts for your store"})]}),e.jsx(L,{className:"p-6 bg-gradient-to-br from-red-50 to-pink-50",children:e.jsx("div",{className:"space-y-4",children:((i==null?void 0:i.alerts)||[]).map((o,d)=>e.jsx("div",{className:`p-4 rounded-xl border-l-4 ${o.type==="warning"?"bg-yellow-50 border-yellow-500":o.type==="error"?"bg-red-50 border-red-500":"bg-blue-50 border-blue-500"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[o.type==="warning"?e.jsx(Q,{className:"h-5 w-5 text-yellow-600 mt-0.5"}):o.type==="error"?e.jsx(Q,{className:"h-5 w-5 text-red-600 mt-0.5"}):e.jsx(st,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:o.message}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:new Date(o.timestamp).toLocaleString()})]})]}),e.jsx(k,{variant:o.priority==="high"?"destructive":"secondary",className:"capitalize",children:o.priority})]})},o.id||`alert-${d}`))})})]})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 p-6",id:`footer-${n}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(k,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(it,{className:"h-3 w-3 mr-1"}),"Enhanced UI Active"]}),e.jsxs(k,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(nt,{className:"h-3 w-3 mr-1"}),"Session: ",n.split("-").pop()]})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Last updated: ",new Date().toLocaleTimeString()]})]})})]})})}export{Wt as default};
