import{r as l,u as M,j as e,F as E,J as F,K as x,M as m,C as r,a as i,b as d,q as c,d as n,I as y,B as t}from"./index-sTi6BLPu.js";import{L as f}from"./label-DXgakF6_.js";const D=()=>{const[o,w]=l.useState(0),[j,S]=l.useState(0),[C,p]=l.useState(0),[h,R]=l.useState(100),[v,g]=l.useState(!1),[A,P]=l.useState("overview"),{toast:u}=M(),N="demo-retailer-001";l.useEffect(()=>{b()},[]);const b=async()=>{g(!0);try{const s=await fetch(`/api/spiral-wallet/${N}`);if(s.ok){const a=await s.json();p(a.balance)}else{const a=await fetch("/api/spiral-wallet/demo-transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:N})});if(a.ok){const B=await a.json();p(B.balance)}}}catch(s){console.error("Wallet fetch error",s),u({title:"Error fetching wallet",description:"Unable to load SPIRAL wallet balance",variant:"destructive"})}finally{g(!1)}},T=s=>{const a=parseFloat(s.target.value)||0;w(a),S(L(a))},L=s=>s<=1e3?s*.05:s<=5e3?s*.06:s*.07,I=s=>{R(parseFloat(s.target.value)||0)},k=()=>{b(),u({title:"Wallet refreshed",description:"SPIRAL balance has been updated"})};return e.jsx("div",{className:"min-h-screen bg-[var(--spiral-cream)] p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-[var(--spiral-navy)] mb-2",children:"Retailer Dashboard"}),e.jsx("p",{className:"section-description text-lg",children:"Manage your SPIRAL business metrics and advertising tools"})]}),e.jsxs(E,{value:A,onValueChange:P,className:"w-full",children:[e.jsxs(F,{className:"grid w-full grid-cols-4 mb-6",children:[e.jsx(x,{value:"overview",children:"Overview"}),e.jsx(x,{value:"products",children:"Manage Products"}),e.jsx(x,{value:"analytics",children:"View Analytics"}),e.jsx(x,{value:"support",children:"Customer Support"})]}),e.jsxs(m,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(r,{className:"bg-white shadow-lg",children:[e.jsxs(i,{children:[e.jsx(d,{className:"text-xl text-[var(--spiral-navy)]",children:"Sales & Platform Fees"}),e.jsx(c,{children:"Calculate your monthly SPIRAL platform fees"})]}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(f,{htmlFor:"sales",children:"Monthly Sales ($)"}),e.jsx(y,{id:"sales",type:"number",value:o,onChange:T,placeholder:"Enter monthly sales amount",className:"mt-1"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-[var(--spiral-navy)]",children:"SPIRAL Platform Fee:"}),e.jsxs("span",{className:"text-lg font-bold text-[var(--spiral-coral)]",children:["$",j.toFixed(2)]})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o<=1e3?"5% fee tier":o<=5e3?"6% fee tier":"7% fee tier"})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-[var(--spiral-navy)]",children:"Net Earnings:"}),e.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",(o-j).toFixed(2)]})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"After SPIRAL platform fees"})]})]})]}),e.jsxs(r,{className:"bg-white shadow-lg",children:[e.jsxs(i,{children:[e.jsx(d,{className:"text-xl text-[var(--spiral-navy)]",children:"SPIRAL Wallet Balance"}),e.jsx(c,{children:"Your rewards and credits for platform usage"})]}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-[var(--spiral-navy)] to-[var(--spiral-coral)] rounded-lg text-white",children:[e.jsxs("div",{className:"text-3xl font-bold mb-2",children:["$",v?"...":C.toFixed(2)]}),e.jsx("p",{className:"text-sm opacity-90",children:"Available SPIRAL Credits"})]}),e.jsx(t,{onClick:k,disabled:v,className:"w-full bg-[var(--spiral-coral)] hover:bg-[var(--spiral-coral)]/90",children:v?"Refreshing...":"Refresh Balance"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("p",{children:"• Use SPIRAL credits to reduce platform fees"}),e.jsx("p",{children:"• Earn credits through customer referrals"}),e.jsx("p",{children:"• Get bonus credits for featured listings"})]})]})]})]}),e.jsxs(r,{className:"bg-white shadow-lg",children:[e.jsxs(i,{children:[e.jsx(d,{className:"text-xl text-[var(--spiral-navy)]",children:"SPIRAL Advertising ROI Calculator"}),e.jsx(c,{children:"Estimate your advertising reach and potential returns"})]}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(f,{htmlFor:"adBudget",children:"Monthly Ad Budget ($)"}),e.jsx(y,{id:"adBudget",type:"number",value:h,onChange:I,placeholder:"Enter monthly advertising budget",className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border",children:[e.jsx("span",{className:"text-sm text-gray-600 block",children:"Estimated Reach"}),e.jsx("span",{className:"text-2xl font-bold text-[var(--spiral-navy)]",children:Math.round(h*50).toLocaleString()}),e.jsx("span",{className:"text-sm text-gray-600 block",children:"impressions"})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border",children:[e.jsx("span",{className:"text-sm text-gray-600 block",children:"Estimated Clicks"}),e.jsx("span",{className:"text-xl font-bold text-green-600",children:Math.round(h*2.5).toLocaleString()}),e.jsx("span",{className:"text-sm text-gray-600 block",children:"potential visits"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-[var(--spiral-navy)] mb-2",children:"SPIRAL Advertising Benefits:"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Target local customers within your community"}),e.jsx("li",{children:"• Promote on SPIRAL platform and partner networks"}),e.jsx("li",{children:"• Use SPIRAL rewards to reduce advertising costs"}),e.jsx("li",{children:"• Track performance with detailed analytics"})]})]})]})]})]}),e.jsx(m,{value:"products",className:"space-y-6",children:e.jsxs(r,{className:"bg-white shadow-lg",children:[e.jsxs(i,{children:[e.jsx(d,{className:"text-xl text-[var(--spiral-navy)]",children:"Product Management"}),e.jsx(c,{children:"Manage your inventory and product listings"})]}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(t,{className:"h-20 bg-[var(--spiral-navy)] hover:bg-[var(--spiral-navy)]/90",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:"Add New Product"}),e.jsx("div",{className:"text-xs opacity-90",children:"Create product listing"})]})}),e.jsx(t,{variant:"outline",className:"h-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:"Bulk Import"}),e.jsx("div",{className:"text-xs opacity-70",children:"CSV upload"})]})}),e.jsx(t,{variant:"outline",className:"h-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:"Inventory Sync"}),e.jsx("div",{className:"text-xs opacity-70",children:"Auto-update stock"})]})})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Quick Stats"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--spiral-navy)]",children:"42"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Products"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--spiral-coral)]",children:"8"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Low Stock"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"156"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Views"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--spiral-gold)]",children:"23"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Orders Today"})]})]})]})]})]})}),e.jsx(m,{value:"analytics",className:"space-y-6",children:e.jsxs(r,{className:"bg-white shadow-lg",children:[e.jsxs(i,{children:[e.jsx(d,{className:"text-xl text-[var(--spiral-navy)]",children:"Performance Analytics"}),e.jsx(c,{children:"Track your store performance and customer engagement"})]}),e.jsxs(n,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-[var(--spiral-navy)] mb-2",children:"$2,847"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Revenue This Month"}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+12% from last month"})]}),e.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-[var(--spiral-coral)] mb-2",children:"147"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Orders Completed"}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+8% from last month"})]}),e.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-[var(--spiral-gold)] mb-2",children:"4.8"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Average Rating"}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Based on 89 reviews"})]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Top Performing Products"}),e.jsx("div",{className:"space-y-3",children:[{name:"Wireless Headphones",sales:23,revenue:"$1,380"},{name:"Cotton T-Shirt",sales:18,revenue:"$972"},{name:"LED Desk Lamp",sales:15,revenue:"$825"}].map((s,a)=>e.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold",children:s.revenue}),e.jsxs("div",{className:"text-sm text-gray-600",children:[s.sales," sold"]})]})]},a))})]})]})]})}),e.jsx(m,{value:"support",className:"space-y-6",children:e.jsxs(r,{className:"bg-white shadow-lg",children:[e.jsxs(i,{children:[e.jsx(d,{className:"text-xl text-[var(--spiral-navy)]",children:"Customer Support Center"}),e.jsx(c,{children:"Manage customer inquiries and support requests"})]}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Recent Support Tickets"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"p-2 bg-yellow-50 rounded border-l-4 border-yellow-400",children:[e.jsx("div",{className:"font-medium",children:"Order #1247 - Delivery Issue"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Customer: Sarah M. • 2 hours ago"})]}),e.jsxs("div",{className:"p-2 bg-green-50 rounded border-l-4 border-green-400",children:[e.jsx("div",{className:"font-medium",children:"Product Return Request"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Customer: Mike R. • 1 day ago"})]}),e.jsxs("div",{className:"p-2 bg-blue-50 rounded border-l-4 border-blue-400",children:[e.jsx("div",{className:"font-medium",children:"General Inquiry"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Customer: Lisa K. • 2 days ago"})]})]})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Support Statistics"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Open Tickets"}),e.jsx("span",{className:"font-semibold text-[var(--spiral-coral)]",children:"3"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Resolved Today"}),e.jsx("span",{className:"font-semibold text-green-600",children:"7"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Avg Response Time"}),e.jsx("span",{className:"font-semibold",children:"2.3 hours"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Customer Satisfaction"}),e.jsx("span",{className:"font-semibold text-[var(--spiral-gold)]",children:"4.9/5"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(t,{className:"bg-[var(--spiral-navy)] hover:bg-[var(--spiral-navy)]/90",children:"View All Tickets"}),e.jsx(t,{variant:"outline",children:"Create New Ticket"}),e.jsx(t,{variant:"outline",children:"Support Resources"})]})]})]})})]})]})})};export{D as default};
