import{r as i,u as I,j as e,e as x,C as n,d as c,a as o,b as d,I as p,B as R,Q as T,s as M,p as L}from"./index-sTi6BLPu.js";import{T as D}from"./target-fQiuIzjo.js";import{A as E}from"./activity-_qjqvmcS.js";import{T as V}from"./trending-up-CRcGIWQN.js";import{C as F}from"./chart-column-DFfP8Ytq.js";function B(){var N;const[l,b]=i.useState(null),[r,v]=i.useState(null),[h,y]=i.useState(null),[j,g]=i.useState(!1),[a,m]=i.useState({multiplier:5,expectedGMV:5e4,sponsorCoveragePct:25,categories:"Electronics,Fashion"}),{toast:u}=I();i.useEffect(()=>{f(),S()},[]);const f=async()=>{try{const t=await(await fetch("/api/promotions/demo/status")).json();y(t)}catch(s){console.error("Error loading system status:",s)}},S=async()=>{try{const t=await(await fetch("/api/promotions/demo/analytics")).json();v(t.analytics)}catch(s){console.error("Error loading analytics:",s)}},w=async()=>{g(!0);try{const t=await(await fetch("/api/promotions/demo/evaluate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({multiplier:a.multiplier,expectedGMV:a.expectedGMV,sponsorCoveragePct:a.sponsorCoveragePct,categories:a.categories.split(",").map(P=>P.trim())})})).json();if(t.success)b(t),u({title:"Demo Completed Successfully",description:"AI valuation analysis completed with results."});else throw new Error(t.error||"Demo failed")}catch(s){console.error("Error running demo:",s),u({title:"Demo Failed",description:"Failed to run promotion demo.",variant:"destructive"})}finally{g(!1)}},A=s=>{const t={low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-red-100 text-red-800"};return e.jsx(x,{className:t[s]||t.medium,children:s.toUpperCase()})},C=s=>s==="Active"||s==="Operational"?e.jsx(M,{className:"h-5 w-5 text-green-600"}):e.jsx(L,{className:"h-5 w-5 text-yellow-600"});return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"SPIRALS Promotion Valuation System"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"AI-Powered Promotional Campaign Analysis & Approval"}),e.jsx(x,{className:"bg-blue-100 text-blue-800 text-lg px-4 py-2",children:"âœ… FULLY OPERATIONAL"})]}),h&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:Object.entries(h.features||{}).map(([s,t])=>e.jsx(n,{children:e.jsxs(c,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[C(t.status),e.jsx("h3",{className:"font-semibold text-sm",children:s.replace(/([A-Z])/g," $1").trim()})]}),e.jsx(x,{className:`text-xs ${t.status==="Active"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:t.status})]})},s))}),e.jsxs(n,{children:[e.jsx(o,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(D,{className:"h-6 w-6 text-blue-600 mr-2"}),"AI Promotion Evaluation Demo"]})}),e.jsxs(c,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"SPIRALS Multiplier"}),e.jsx(p,{type:"number",min:"2",max:"10",value:a.multiplier,onChange:s=>m({...a,multiplier:parseInt(s.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Expected GMV ($)"}),e.jsx(p,{type:"number",value:a.expectedGMV,onChange:s=>m({...a,expectedGMV:parseInt(s.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sponsor Coverage (%)"}),e.jsx(p,{type:"number",min:"0",max:"100",value:a.sponsorCoveragePct,onChange:s=>m({...a,sponsorCoveragePct:parseInt(s.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categories"}),e.jsx(p,{value:a.categories,onChange:s=>m({...a,categories:s.target.value}),placeholder:"Electronics,Fashion"})]})]}),e.jsx(R,{onClick:w,disabled:j,className:"w-full bg-blue-600 hover:bg-blue-700",size:"lg",children:j?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Running AI Analysis..."]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Run AI Valuation Demo"]})})]})]}),l&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(n,{children:[e.jsx(o,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(V,{className:"h-5 w-5 text-green-600 mr-2"}),"AI Valuation Results"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Valuation Score"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[l.valuation.score,"/100"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Risk Assessment"}),e.jsx("div",{className:"mt-1",children:A(l.valuation.risk)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Platform Cost"}),e.jsxs("p",{className:"text-lg font-semibold",children:[l.valuation.effectiveCostPct,"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Recommended Multiplier"}),e.jsxs("p",{className:"text-lg font-semibold",children:[l.valuation.recommendedMultiplier,"x"]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"AI Analysis"}),e.jsx("p",{className:"text-xs text-blue-700",children:l.valuation.notes})]})]})]}),e.jsxs(n,{children:[e.jsx(o,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(T,{className:"h-5 w-5 text-purple-600 mr-2"}),"Impact Projection"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Customer SPIRALS Rewards"}),e.jsxs("span",{className:"font-semibold text-green-600",children:["$",l.projectedImpact.customerBenefit.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Platform Cost"}),e.jsxs("span",{className:"font-semibold text-red-600",children:["$",l.projectedImpact.platformCost.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total SPIRALS Generated"}),e.jsxs("span",{className:"font-semibold text-blue-600",children:["$",l.projectedImpact.estimatedRewards.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-purple-50 p-3 rounded",children:[e.jsx("p",{className:"text-sm font-medium text-purple-800 mb-1",children:"System Status"}),e.jsx("div",{className:"grid grid-cols-2 gap-1 text-xs",children:Object.entries(l.systemStatus).map(([s,t])=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${t==="Active"||t==="Operational"?"bg-green-500":"bg-yellow-500"}`}),e.jsx("span",{className:"text-purple-700",children:s})]},s))})]})]})]})]}),r&&e.jsxs(n,{children:[e.jsx(o,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(F,{className:"h-5 w-5 text-orange-600 mr-2"}),"Platform Analytics Overview"]})}),e.jsxs(c,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalRequests}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Requests"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[r.pendingRequests," pending"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.activePromotions}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Promotions"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[r.averageMultiplier,"x avg multiplier"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",(r.totalProjectedGMV/1e6).toFixed(1),"M"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Projected GMV"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total pipeline"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:r.averageScore.toFixed(1)}),e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Score"}),e.jsx("p",{className:"text-xs text-gray-500",children:"AI valuation"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Top Performing Categories"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(N=r.topPerformingCategories)==null?void 0:N.map((s,t)=>e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s.category}),e.jsx(x,{className:"bg-blue-100 text-blue-800",children:s.avgScore.toFixed(1)})]}),e.jsxs("p",{className:"text-xs text-gray-600",children:[s.requests," requests"]})]},t))})]})]})]}),e.jsxs(n,{children:[e.jsx(o,{children:e.jsx(d,{children:"ðŸŽ‰ Implementation Complete"})}),e.jsx(c,{children:e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-3",children:"âœ… SPIRALS Promotion Valuation & Approval System Successfully Deployed"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-700 mb-2",children:"Core Features Implemented:"}),e.jsxs("ul",{className:"space-y-1 text-green-600",children:[e.jsx("li",{children:"â€¢ AI-powered promotion valuation engine"}),e.jsx("li",{children:"â€¢ Partner request submission system"}),e.jsx("li",{children:"â€¢ Admin approval workflow dashboard"}),e.jsx("li",{children:"â€¢ Real-time analytics and reporting"}),e.jsx("li",{children:"â€¢ Risk assessment and cost calculation"}),e.jsx("li",{children:"â€¢ Integration with SPIRAL loyalty system"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-700 mb-2",children:"Technical Architecture:"}),e.jsxs("ul",{className:"space-y-1 text-green-600",children:[e.jsx("li",{children:"â€¢ PostgreSQL database with Drizzle ORM"}),e.jsx("li",{children:"â€¢ TypeScript Express.js API endpoints"}),e.jsx("li",{children:"â€¢ React frontend with shadcn/ui components"}),e.jsx("li",{children:"â€¢ Automated valuation scoring (0-100)"}),e.jsx("li",{children:"â€¢ Multi-factor risk assessment"}),e.jsx("li",{children:"â€¢ Platform cost estimation engine"})]})]})]})]})})]})]})})}export{B as default};
