import{r as i,u as I,U as F,j as e,L as A,B as m,C as n,d as l,s as E,G as N,a as L,b as O,q as P,e as x,D as T,g as B,h as q,i as _,k as M,P as Q,f as G}from"./index-sTi6BLPu.js";import{u as H}from"./useQuery-4av79AcX.js";import{u as $}from"./useMutation-DaiJly-X.js";import{A as K}from"./arrow-left-DtuWXA6b.js";import{Z as b}from"./zap-1vep6Tn5.js";import{R as U}from"./refresh-cw-bGZJGN_p.js";import{C as W}from"./credit-card-B1A0ZWNg.js";function ae(){const[h,u]=i.useState(null),[t,p]=i.useState(null),[Z,g]=i.useState(null),[f,d]=i.useState(!1),{toast:j}=I(),v=F(),y="1",{data:c,isLoading:w}=H({queryKey:["/api/returns/quick-reasons"],queryFn:async()=>{const s=await fetch("/api/returns/quick-reasons");if(!s.ok)throw new Error("Failed to load return reasons");return(await s.json()).reasons||[]}}),R=[{id:"order_123",date:new Date(Date.now()-5*24*60*60*1e3).toLocaleDateString(),items:[{id:"item_1",name:"Wireless Bluetooth Headphones",price:89.99,image:"/api/placeholder/300/300",status:"delivered"},{id:"item_2",name:"USB-C Charging Cable",price:19.99,image:"/api/placeholder/300/300",status:"delivered"}],total:109.98,canReturn:!0},{id:"order_456",date:new Date(Date.now()-12*24*60*60*1e3).toLocaleDateString(),items:[{id:"item_3",name:"Summer Fashion Dress",price:79.99,image:"/api/placeholder/300/300",status:"delivered"}],total:79.99,canReturn:!0}],r=$({mutationFn:async({orderId:s,productId:a,reason:k})=>{const o=await fetch("/api/returns/one-click",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:y,orderId:s,productId:a,reason:k})});if(!o.ok){const D=await o.json();throw new Error(D.error||"Return failed")}return o.json()},onSuccess:s=>{j({title:s.autoApproved?"Return Approved Instantly! ðŸŽ‰":"Return Submitted âœ…",description:s.message}),d(!1),u(null),p(null),g(null),v.invalidateQueries({queryKey:["/api/returns/status"]})},onError:s=>{j({title:"Return Failed",description:s.message,variant:"destructive"})}}),C=(s,a)=>{u(s),p(a),d(!0)},S=s=>{g(s),h&&t&&r.mutate({orderId:h.id,productId:t.id,reason:s.id})};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(A,{href:"/orders-returns",children:e.jsxs(m,{variant:"ghost",size:"sm",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Back"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Easy Returns"}),e.jsx("p",{className:"text-gray-600",children:"Return items in just a few clicks"})]})]})})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(n,{children:e.jsxs(l,{className:"p-6 text-center",children:[e.jsx(b,{className:"h-8 w-8 mx-auto mb-2 text-yellow-500"}),e.jsx("h3",{className:"font-semibold text-lg",children:"Instant Approval"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Most returns approved in under 30 seconds"})]})}),e.jsx(n,{children:e.jsxs(l,{className:"p-6 text-center",children:[e.jsx(E,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),e.jsx("h3",{className:"font-semibold text-lg",children:"Easy Process"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No printing labels or complex forms"})]})}),e.jsx(n,{children:e.jsxs(l,{className:"p-6 text-center",children:[e.jsx(N,{className:"h-8 w-8 mx-auto mb-2 text-teal-500"}),e.jsx("h3",{className:"font-semibold text-lg",children:"Flexible Refunds"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Original payment or SPIRAL credit (+20% bonus)"})]})})]}),e.jsxs(n,{children:[e.jsxs(L,{children:[e.jsx(O,{children:"Recent Orders - Available for Return"}),e.jsx(P,{children:"Items from the past 30 days that can be returned"})]}),e.jsx(l,{className:"space-y-6",children:R.map(s=>e.jsxs("div",{className:"border rounded-lg p-6 bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold",children:["Order #",s.id]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Ordered on ",s.date," â€¢ Total: $",s.total.toFixed(2)]})]}),e.jsx(x,{className:"bg-green-100 text-green-800",children:"Eligible for Return"})]}),e.jsx("div",{className:"grid gap-4",children:s.items.map(a=>e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg hover:bg-gray-50",children:[e.jsx("img",{src:a.image,alt:a.name,className:"w-16 h-16 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["$",a.price.toFixed(2)]}),e.jsx(x,{variant:"outline",className:"mt-1",children:a.status==="delivered"?"Delivered":a.status})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(m,{onClick:()=>C(s,a),disabled:r.isPending,className:"bg-teal-600 hover:bg-teal-700 text-white",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Return This Item"]})})]},a.id))})]},s.id))})]}),e.jsx(T,{open:f,onOpenChange:d,children:e.jsxs(B,{className:"max-w-2xl",children:[e.jsxs(q,{children:[e.jsx(_,{children:"Return Item - Quick & Easy"}),e.jsx(M,{children:t&&`Returning: ${t.name}`})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Q,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Why are you returning this item?"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Select the reason that best describes your situation"})]}),w?e.jsx("div",{className:"grid gap-3",children:[1,2,3,4].map(s=>e.jsx("div",{className:"h-16 bg-gray-200 rounded-lg animate-pulse"},s))}):e.jsx("div",{className:"grid gap-3",children:c==null?void 0:c.map(s=>e.jsx(m,{variant:"outline",onClick:()=>S(s),disabled:r.isPending,className:"h-auto p-4 text-left justify-start hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-4 w-full",children:[e.jsx("span",{className:"text-2xl",children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"font-medium",children:s.title}),s.autoApprove&&e.jsxs(x,{className:"bg-green-100 text-green-800 text-xs",children:[e.jsx(b,{className:"h-3 w-3 mr-1"}),"Instant Approval"]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:s.description}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.refundType==="original"?e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(W,{className:"h-3 w-3"}),"Refund to original payment"]}):e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(N,{className:"h-3 w-3"}),"SPIRAL credit (+20% bonus)"]})})]}),r.isPending?e.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-teal-600 border-t-transparent"}):e.jsx("div",{className:"text-gray-400",children:"â†’"})]})},s.id))}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(G,{className:"h-5 w-5 text-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900",children:"Fast & Flexible Returns"}),e.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["â€¢ No need to package or print labels",e.jsx("br",{}),"â€¢ Most returns approved instantly",e.jsx("br",{}),"â€¢ Get refunds in 1-3 business days or instant SPIRAL credit"]})]})]})})]})]})})]})]})}export{ae as default};
