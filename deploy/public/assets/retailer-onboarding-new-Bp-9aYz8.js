import{r as c,u as W,j as e,C as x,a as J,b as K,e as A,q as H,d as h,I as d,Q as q,S as z,B as m,L as G}from"./index-sTi6BLPu.js";import{P as U}from"./progress-Cf362TSq.js";import{S as p,a as j,b as g,c as b,d as a}from"./select-U2_IWgob.js";import{T as R}from"./textarea-DwFaTdzp.js";import{B as u}from"./building-2-CmMn_uHF.js";import{C as B}from"./check-Cok4To_4.js";import{C as I}from"./credit-card-B1A0ZWNg.js";import{S as Q}from"./shield-DYGAM3k4.js";import{E as Z}from"./external-link-C3qeqPCI.js";import{S as _}from"./sparkles-BuZ9UEHA.js";import{A as L}from"./arrow-left-DtuWXA6b.js";import{A as T}from"./arrow-right-BiMhyQ9i.js";import"./index-BdQq_4o_.js";import"./chevron-down-BDj7HIg7.js";function X(){var k;const[r,o]=c.useState(1),[t,E]=c.useState({name:"",email:"",phone:"",address:"",website:"",sales:"",employees:"",locations:"1",businessType:"",tier:"",description:""}),[v,y]=c.useState(!1),[N,O]=c.useState(""),[f,S]=c.useState(!1),[ee,F]=c.useState(""),{toast:n}=W();c.useEffect(()=>{const s=new URLSearchParams(window.location.search);s.get("success")==="true"&&s.get("step")==="complete"&&(o(5),F("completed"),n({title:"Payment Setup Complete!",description:"Your Stripe account has been successfully connected."})),s.get("retry")==="true"&&s.get("step")==="stripe"&&(o(4),n({title:"Please Complete Payment Setup",description:"Finish connecting your Stripe account to activate your store.",variant:"destructive"}))},[n]);const i=(s,l)=>{E({...t,[s]:l})},$=()=>{w()&&o(r+1)},D=()=>o(r-1),w=()=>{switch(r){case 1:return t.name&&t.email&&t.phone;case 2:return t.sales&&t.employees&&t.locations;case 3:return t.businessType&&t.tier;default:return!0}},M=async()=>{y(!0);try{const l=await(await fetch("/api/retailer/onboard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();l.ok?(O(l.record.id),n({title:"Profile Created!",description:"Now let's set up your payments to complete onboarding."}),o(4)):n({title:"Onboarding Error",description:l.error||"Failed to complete onboarding",variant:"destructive"})}catch{n({title:"Network Error",description:"Failed to submit onboarding form. Please try again.",variant:"destructive"})}y(!1)},Y=async()=>{S(!0);try{const l=await(await fetch(`/api/stripe/onboard/${N}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,businessName:t.name,businessType:t.businessType})})).json();l.ok&&l.url?(n({title:"Redirecting to Stripe...",description:"Complete your payment setup to activate your store."}),window.location.href=l.url):n({title:"Payment Setup Error",description:l.error||"Failed to initialize payment setup",variant:"destructive"})}catch{n({title:"Network Error",description:"Failed to connect to payment system. Please try again.",variant:"destructive"})}S(!1)},C=s=>({Growing:{price:"Free",features:["Basic store listing","Customer reviews","SPIRAL loyalty integration"],badge:"success"},Standard:{price:"$29/month",features:["Inventory management","Basic analytics","Campaign participation","Priority support"],badge:"default"},Premium:{price:"$79/month",features:["Advanced analytics","Custom campaigns","API access","Dedicated account manager","White-label options"],badge:"secondary"}})[s],V=r/5*100;return e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(x,{className:"w-full",children:[e.jsxs(J,{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(u,{className:"h-6 w-6 text-blue-600"}),e.jsx(K,{className:"text-2xl",children:"SPIRAL Retailer Onboarding"}),e.jsxs(A,{variant:"outline",children:["Step ",r," of ",r===5?5:4]})]}),e.jsx(U,{value:V,className:"w-full"}),e.jsx(H,{children:"Join the SPIRAL network and connect with shoppers across multiple malls"})]}),e.jsxs(h,{className:"space-y-6",children:[r===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-lg font-semibold text-blue-600",children:[e.jsx(u,{className:"h-5 w-5"}),e.jsx("span",{children:"Business Information"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Business Name *"}),e.jsx(d,{placeholder:"Your Store Name",value:t.name,onChange:s=>i("name",s.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Business Email *"}),e.jsx(d,{type:"email",placeholder:"contact@yourstore.com",value:t.email,onChange:s=>i("email",s.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Phone Number *"}),e.jsx(d,{placeholder:"(555) 123-4567",value:t.phone,onChange:s=>i("phone",s.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Business Address"}),e.jsx(R,{placeholder:"123 Main Street, City, State, ZIP",value:t.address,onChange:s=>i("address",s.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Website"}),e.jsx(d,{placeholder:"https://yourstore.com",value:t.website,onChange:s=>i("website",s.target.value),className:"mt-1"})]})]})]}),r===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-lg font-semibold text-blue-600",children:[e.jsx(q,{className:"h-5 w-5"}),e.jsx("span",{children:"Business Details"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Annual Sales Volume *"}),e.jsxs(p,{onValueChange:s=>i("sales",s),children:[e.jsx(j,{className:"mt-1",children:e.jsx(g,{placeholder:"Select sales range"})}),e.jsxs(b,{children:[e.jsx(a,{value:"under-100k",children:"Under $100K"}),e.jsx(a,{value:"100k-500k",children:"$100K - $500K"}),e.jsx(a,{value:"500k-1m",children:"$500K - $1M"}),e.jsx(a,{value:"1m-5m",children:"$1M - $5M"}),e.jsx(a,{value:"over-5m",children:"Over $5M"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Number of Employees *"}),e.jsxs(p,{onValueChange:s=>i("employees",s),children:[e.jsx(j,{className:"mt-1",children:e.jsx(g,{placeholder:"Select employee count"})}),e.jsxs(b,{children:[e.jsx(a,{value:"1-5",children:"1-5 employees"}),e.jsx(a,{value:"6-15",children:"6-15 employees"}),e.jsx(a,{value:"16-50",children:"16-50 employees"}),e.jsx(a,{value:"51-100",children:"51-100 employees"}),e.jsx(a,{value:"over-100",children:"Over 100 employees"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Number of Locations *"}),e.jsx(d,{type:"number",placeholder:"1",value:t.locations,onChange:s=>i("locations",s.target.value),className:"mt-1"})]})]})]}),r===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-lg font-semibold text-blue-600",children:[e.jsx(z,{className:"h-5 w-5"}),e.jsx("span",{children:"Business Type & Plan"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Business Type *"}),e.jsxs(p,{onValueChange:s=>i("businessType",s),children:[e.jsx(j,{className:"mt-1",children:e.jsx(g,{placeholder:"Select business type"})}),e.jsxs(b,{children:[e.jsx(a,{value:"clothing",children:"Clothing & Fashion"}),e.jsx(a,{value:"electronics",children:"Electronics"}),e.jsx(a,{value:"food",children:"Food & Beverage"}),e.jsx(a,{value:"home",children:"Home & Garden"}),e.jsx(a,{value:"health",children:"Health & Beauty"}),e.jsx(a,{value:"sports",children:"Sports & Recreation"}),e.jsx(a,{value:"books",children:"Books & Media"}),e.jsx(a,{value:"automotive",children:"Automotive"}),e.jsx(a,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Select Your Plan *"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-2",children:["Growing","Standard","Premium"].map(s=>{const l=C(s);return e.jsx(x,{className:`cursor-pointer transition-all ${t.tier===s?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>i("tier",s),children:e.jsxs(h,{className:"p-4 text-center",children:[e.jsx("div",{className:"font-semibold",children:s}),e.jsx("div",{className:"text-lg font-bold text-blue-600",children:l==null?void 0:l.price}),e.jsx("div",{className:"text-sm text-gray-600 mt-2",children:l==null?void 0:l.features.slice(0,2).map(P=>e.jsxs("div",{children:["â€¢ ",P]},P))}),t.tier===s&&e.jsx("div",{className:"mt-2",children:e.jsx(B,{className:"h-5 w-5 text-blue-600 mx-auto"})})]})},s)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Business Description (Optional)"}),e.jsx(R,{placeholder:"Tell us about your business, products, and what makes you unique...",value:t.description,onChange:s=>i("description",s.target.value),className:"mt-1",rows:3})]})]})]}),r===4&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-lg font-semibold text-blue-600",children:[e.jsx(I,{className:"h-5 w-5"}),e.jsx("span",{children:"Payment Setup (Required)"})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(Q,{className:"h-5 w-5 text-blue-600"}),e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"SPIRAL Payments powered by Stripe"})]}),e.jsx("p",{className:"text-blue-800 dark:text-blue-200 text-sm mb-4",children:"To complete your onboarding and start selling on SPIRAL, you must connect your business to our secure payment system. This ensures:"}),e.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[e.jsx("li",{children:"â€¢ Secure payment processing for all transactions"}),e.jsx("li",{children:"â€¢ Automatic SPIRAL loyalty point distribution"}),e.jsx("li",{children:"â€¢ 5% platform fee for sustainable growth"}),e.jsx("li",{children:"â€¢ Fast, reliable payouts to your business account"}),e.jsx("li",{children:"â€¢ Built-in fraud protection and dispute management"})]})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:"ðŸ’° Revenue Share Model"}),e.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"SPIRAL takes a 5% platform fee on all sales, which funds our marketing, technology, and loyalty program that drives customers to your store. You keep 95% of every sale!"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"What you'll need:"}),e.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:[e.jsx("li",{children:"â€¢ Business bank account information"}),e.jsx("li",{children:"â€¢ Tax ID (EIN or SSN)"}),e.jsx("li",{children:"â€¢ Business license or registration documents"}),e.jsx("li",{children:"â€¢ Personal identification for verification"})]})]}),e.jsx(m,{onClick:Y,disabled:f||!N,className:"w-full bg-blue-700 hover:bg-blue-800 text-white",size:"lg",children:f?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"mr-2 h-4 w-4 animate-pulse"}),"Connecting to Stripe..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),"Connect with Stripe"]})}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"This step is mandatory to activate your SPIRAL store. You'll be redirected to Stripe's secure platform to complete setup."})]}),r===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-lg font-semibold text-blue-600",children:[e.jsx(B,{className:"h-5 w-5"}),e.jsx("span",{children:"Review & Submit"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Business:"})," ",t.name]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Email:"})," ",t.email]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Phone:"})," ",t.phone]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Business Type:"})," ",t.businessType]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Selected Plan:"}),e.jsxs(A,{className:"ml-2",variant:"secondary",children:[t.tier," - ",(k=C(t.tier))==null?void 0:k.price]})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Locations:"})," ",t.locations]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"ðŸš€ What happens next?"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ Account creation and verification (1-2 business days)"}),e.jsx("li",{children:"â€¢ Store setup and inventory integration assistance"}),e.jsx("li",{children:"â€¢ SPIRAL loyalty program integration"}),e.jsx("li",{children:"â€¢ Access to retailer dashboard and analytics"})]})]})]}),r===5&&e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(_,{className:"h-16 w-16 text-green-600"})}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"Welcome to SPIRAL!"}),e.jsx("div",{className:"text-gray-600",children:"Your retailer account has been created successfully. You'll receive a confirmation email shortly with next steps."}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsxs("div",{className:"text-sm text-green-800",children:[e.jsx("strong",{children:"Account ID:"})," retailer_",Date.now(),e.jsx("br",{}),e.jsx("strong",{children:"Status:"})," Pending Verification",e.jsx("br",{}),e.jsx("strong",{children:"Next Step:"})," Check your email for verification instructions"]})})]}),r<5&&e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsxs(m,{variant:"outline",onClick:D,disabled:r===1,children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Previous"]}),r<3?e.jsxs(m,{onClick:$,disabled:!w(),children:["Next",e.jsx(T,{className:"h-4 w-4 ml-2"})]}):r===3?e.jsxs(m,{onClick:M,disabled:v,className:"bg-green-600 hover:bg-green-700",children:[v?"Creating Profile...":"Create Profile & Continue",e.jsx(T,{className:"h-4 w-4 ml-2"})]}):null]})]})]})})}const pe=()=>e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-between h-16",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(G,{href:"/retailer-dashboard",children:e.jsxs(m,{variant:"outline",size:"sm",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{className:"h-6 w-6 text-blue-600"}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Join SPIRAL Network"})]})]})})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(x,{className:"mb-8 border-blue-200 bg-blue-50 dark:bg-blue-900/20",children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(u,{className:"h-12 w-12 text-blue-600 mx-auto"}),e.jsx("h2",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:"Welcome to SPIRAL Retailer Network"}),e.jsx("p",{className:"text-blue-800 dark:text-blue-200 max-w-2xl mx-auto",children:"Join thousands of retailers connecting with shoppers across multiple malls. Our platform provides everything you need to grow your business, from inventory management to loyalty program integration."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"42+"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Active Retailers"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"3,500+"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Active Shoppers"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"$450K+"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Platform Sales"})]})]})]})})}),e.jsx(X,{}),e.jsx(x,{className:"mt-8 border-green-200 bg-green-50 dark:bg-green-900/20",children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100",children:"Need Help?"}),e.jsxs("p",{className:"text-sm text-green-800 dark:text-green-200",children:["Our onboarding specialists are here to help you get started. Contact us at ",e.jsx("strong",{children:"retailers@spiralshops.com"})," or call ",e.jsx("strong",{children:"(555) 123-SPIRAL"})]})]})})})]})]});export{pe as default};
