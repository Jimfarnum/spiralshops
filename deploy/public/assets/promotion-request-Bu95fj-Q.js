import{r as n,u as A,j as e,C as u,a as h,b as p,d as j,e as b,B as g,I as i,Q as R,p as P}from"./index-sTi6BLPu.js";import{T as q}from"./textarea-DwFaTdzp.js";import{S as v,a as N,b as f,c as S,d as a}from"./select-U2_IWgob.js";import{T}from"./trending-up-CRcGIWQN.js";import{T as k}from"./target-fQiuIzjo.js";import{C as L}from"./calendar-CZXggfH7.js";import"./index-BdQq_4o_.js";import"./chevron-down-BDj7HIg7.js";import"./check-Cok4To_4.js";function Y(){const[s,l]=n.useState({requesterType:"",requesterName:"",contactEmail:"",desired:{multiplier:5,startsAt:"",endsAt:""},target:{categories:[],storeIds:[],mallIds:[]},expectedGMV:0,sponsorCoveragePct:0,description:""}),[c,d]=n.useState(!1),[y,I]=n.useState(!1),[r,w]=n.useState(null),{toast:m}=A(),C=async t=>{t.preventDefault(),d(!0);try{const o=await(await fetch("/api/partners/promotions/request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json();if(o.success)I(!0),w(o.request),m({title:"Request Submitted Successfully",description:"Your promotion request has been submitted for SPIRAL review."});else throw new Error(o.error||"Failed to submit request")}catch(x){console.error("Error submitting request:",x),m({title:"Submission Failed",description:"Failed to submit promotion request. Please try again.",variant:"destructive"})}finally{d(!1)}};return y?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(u,{children:[e.jsxs(h,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(T,{className:"h-8 w-8 text-green-600"})}),e.jsx(p,{className:"text-2xl text-green-800",children:"Request Submitted Successfully!"})]}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Your promotion request has been submitted to SPIRAL for review. We'll analyze your proposal using our AI valuation system."}),e.jsxs(b,{className:"bg-blue-100 text-blue-800",children:["Request ID: #",r==null?void 0:r.id]})]}),(r==null?void 0:r.valuation)&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-3",children:"AI Valuation Results"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-600",children:"Valuation Score"}),e.jsxs("p",{className:"font-semibold text-blue-800",children:[r.valuation.score,"/100"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-600",children:"Risk Assessment"}),e.jsx(b,{className:`${r.valuation.risk==="low"?"bg-green-100 text-green-800":r.valuation.risk==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.valuation.risk.toUpperCase()})]})]}),e.jsx("div",{className:"mt-3 text-xs text-blue-700 bg-blue-100 p-2 rounded",children:e.jsxs("p",{children:[e.jsx("strong",{children:"AI Analysis:"})," ",r.valuation.recommendations]})})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{children:"📧 Check your email for updates on the review process"}),e.jsx("p",{children:"⏱️ Typical review time: 3-5 business days"}),e.jsx("p",{children:"📞 Questions? Contact our partnerships team"})]}),e.jsx(g,{onClick:()=>window.location.href="/",className:"w-full",children:"Return to Home"})]})]})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Request a SPIRALS Promotion"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Partner with SPIRAL to create promotional campaigns that drive customer engagement and sales. Our AI system will evaluate your proposal and provide instant feedback."})]}),e.jsxs(u,{children:[e.jsx(h,{children:e.jsxs(p,{className:"flex items-center",children:[e.jsx(k,{className:"h-6 w-6 text-blue-600 mr-2"}),"Promotion Request Form"]})}),e.jsx(j,{children:e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Organization Type *"}),e.jsxs(v,{value:s.requesterType,onValueChange:t=>l({...s,requesterType:t}),required:!0,children:[e.jsx(N,{children:e.jsx(f,{placeholder:"Select organization type"})}),e.jsxs(S,{children:[e.jsx(a,{value:"mall",children:"Shopping Mall"}),e.jsx(a,{value:"retailer",children:"Retailer"}),e.jsx(a,{value:"card_issuer",children:"Credit Card Issuer"}),e.jsx(a,{value:"other",children:"Other Partner"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Organization Name *"}),e.jsx(i,{value:s.requesterName,onChange:t=>l({...s,requesterName:t.target.value}),placeholder:"Your organization name",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Contact Email *"}),e.jsx(i,{type:"email",value:s.contactEmail,onChange:t=>l({...s,contactEmail:t.target.value}),placeholder:"partnerships@example.com",required:!0})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(L,{className:"h-5 w-5 text-blue-600 mr-2"}),"Desired Promotion Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"SPIRALS Multiplier *"}),e.jsxs(v,{value:s.desired.multiplier.toString(),onValueChange:t=>l({...s,desired:{...s.desired,multiplier:parseInt(t)}}),required:!0,children:[e.jsx(N,{children:e.jsx(f,{})}),e.jsxs(S,{children:[e.jsx(a,{value:"2",children:"2x SPIRALS"}),e.jsx(a,{value:"3",children:"3x SPIRALS"}),e.jsx(a,{value:"4",children:"4x SPIRALS"}),e.jsx(a,{value:"5",children:"5x SPIRALS (Recommended)"}),e.jsx(a,{value:"6",children:"6x SPIRALS"}),e.jsx(a,{value:"7",children:"7x SPIRALS"}),e.jsx(a,{value:"8",children:"8x SPIRALS"}),e.jsx(a,{value:"9",children:"9x SPIRALS"}),e.jsx(a,{value:"10",children:"10x SPIRALS (Max)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Date *"}),e.jsx(i,{type:"date",value:s.desired.startsAt,onChange:t=>l({...s,desired:{...s.desired,startsAt:t.target.value}}),min:new Date().toISOString().split("T")[0],required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Date *"}),e.jsx(i,{type:"date",value:s.desired.endsAt,onChange:t=>l({...s,desired:{...s.desired,endsAt:t.target.value}}),min:s.desired.startsAt||new Date().toISOString().split("T")[0],required:!0})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(R,{className:"h-5 w-5 text-green-600 mr-2"}),"Business Impact"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Expected GMV ($)"}),e.jsx(i,{type:"number",value:s.expectedGMV,onChange:t=>l({...s,expectedGMV:parseInt(t.target.value)||0}),placeholder:"100000",min:"0"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total sales volume you expect during the promotion"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sponsor Coverage (%)"}),e.jsx(i,{type:"number",value:s.sponsorCoveragePct,onChange:t=>l({...s,sponsorCoveragePct:parseInt(t.target.value)||0}),placeholder:"25",min:"0",max:"100"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"% of promotion cost your organization will fund"})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Campaign Description"}),e.jsx(q,{value:s.description,onChange:t=>l({...s,description:t.target.value}),placeholder:"Describe your promotional campaign goals, target audience, and expected outcomes...",rows:4})]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400",children:e.jsxs("div",{className:"flex",children:[e.jsx(P,{className:"h-5 w-5 text-blue-600 mr-2 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-semibold text-blue-800 mb-1",children:"AI-Powered Review Process"}),e.jsx("p",{className:"text-blue-700",children:"Your request will be automatically evaluated using our AI valuation system that considers business impact, platform costs, targeting efficiency, and risk factors. SPIRAL maintains full approval authority for all promotional campaigns."})]})]})}),e.jsx(g,{type:"submit",disabled:c||!s.requesterType||!s.requesterName||!s.contactEmail,className:"w-full",size:"lg",children:c?"Submitting Request...":"Submit Promotion Request"})]})})]})]})})}export{Y as default};
