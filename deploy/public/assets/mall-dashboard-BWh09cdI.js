import{c as g,r as o,j as e,C as i,d as n,a as N,b as y,N as k,e as v,B as m,I as F}from"./index-sTi6BLPu.js";import{A,a as R}from"./alert-BVbwNNU_.js";import{R as u}from"./refresh-cw-bGZJGN_p.js";import{R as D}from"./rotate-ccw-CuaGVkuT.js";import{I as _}from"./info-CHxOX6WX.js";import{C as I}from"./circle-check-ezVrciVg.js";import{C as L}from"./circle-x-WVieisiF.js";import{B as T}from"./building-2-CmMn_uHF.js";import{M as P}from"./map-pin-DZnENn3K.js";import{S as O}from"./search-BDvTlR0f.js";import{U as B}from"./users-n91sDYUr.js";import{S as $}from"./shopping-bag-B6bbBeT-.js";import{C as H}from"./chart-column-DFfP8Ytq.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=g("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=g("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=g("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),G={onboarding:"Automated retailer onboarding system with step-by-step guidance",verification:"5-tier store verification system with trust badges",events:"Mall events calendar and promotional campaigns",qrCampaigns:"QR code generation for products and campaigns",analytics:"Detailed analytics dashboard and reporting",aiAssistant:"AI-powered assistance for retailers and shoppers",loyaltyProgram:"SPIRAL points earning and redemption system",socialSharing:"Social media integration and sharing rewards",mobilePay:"Mobile payment processing including Apple/Google Pay",deliveryTracking:"Real-time delivery and pickup tracking"};function q({mallId:l}){const[r,c]=o.useState({}),[h,d]=o.useState(!0),[x,t]=o.useState(null),[b,p]=o.useState(""),j=async()=>{try{const a=await(await fetch(`/api/mall/${l}/features`)).json();a.ok&&(c(a.features),p(new Date().toLocaleString()))}catch(s){console.error("Failed to load mall features:",s)}finally{d(!1)}};o.useEffect(()=>{j()},[l]);const w=async s=>{t(s);try{const a={...r,[s]:!r[s]},f=await(await fetch(`/api/mall/${l}/features`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({features:a})})).json();f.ok&&(c(f.features),p(new Date().toLocaleString()))}catch(a){console.error("Failed to toggle feature:",a)}finally{t(null)}},C=async()=>{d(!0);try{const a=await(await fetch(`/api/mall/${l}/features/reset`,{method:"POST",headers:{"Content-Type":"application/json"}})).json();a.ok&&(c(a.features),p(new Date().toLocaleString()))}catch(s){console.error("Failed to reset features:",s)}finally{d(!1)}};if(h)return e.jsx(i,{children:e.jsx(n,{className:"p-8 text-center",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 mx-auto"}),e.jsx("div",{className:"space-y-2",children:Array.from({length:6}).map((s,a)=>e.jsx("div",{className:"h-4 bg-gray-200 rounded"},a))})]})})});const S=Object.values(r).filter(Boolean).length,M=Object.keys(r).length;return e.jsx("div",{className:"space-y-6",children:e.jsxs(i,{children:[e.jsx(N,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5 text-blue-600"}),"Mall Feature Settings"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(v,{variant:"outline",children:[S,"/",M," Active"]}),e.jsxs(m,{onClick:j,variant:"outline",size:"sm",className:"flex items-center gap-1",children:[e.jsx(u,{className:"h-4 w-4"}),"Refresh"]}),e.jsxs(m,{onClick:C,variant:"outline",size:"sm",className:"flex items-center gap-1 text-orange-600",children:[e.jsx(D,{className:"h-4 w-4"}),"Reset"]})]})]})}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs(A,{children:[e.jsx(_,{className:"h-4 w-4"}),e.jsxs(R,{children:["Mall ID: ",e.jsx("strong",{children:l})," â€¢ Last updated: ",b,e.jsx("br",{}),"Toggle features ON/OFF. Disabled features are hidden from retailers and shoppers."]})]}),e.jsx("div",{className:"grid gap-4",children:Object.entries(r).map(([s,a])=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium capitalize text-lg",children:s.replace(/([A-Z])/g," $1").trim()}),a?e.jsx(I,{className:"h-4 w-4 text-green-600"}):e.jsx(L,{className:"h-4 w-4 text-gray-400"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:G[s]||"Feature description not available"})]}),e.jsx(m,{onClick:()=>w(s),disabled:x===s,className:`ml-4 ${a?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-300 hover:bg-gray-400 text-gray-700"}`,children:x===s?e.jsx(u,{className:"h-4 w-4 animate-spin"}):a?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(E,{className:"h-4 w-4"}),"ON"]}):e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(z,{className:"h-4 w-4"}),"OFF"]})})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Status: ",a?"Active - Visible to users":"Disabled - Hidden from users"]})]},s))}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsx("span",{children:"Feature Management System"}),e.jsx("span",{children:"Changes take effect immediately"})]})})]})]})})}function ie(){const[l,r]=o.useState("westfield_center_123"),[c,h]=o.useState(""),d=()=>{c.trim()&&r(c.trim())},x=[{id:"westfield_center_123",name:"Westfield Shopping Center",location:"Minneapolis, MN"},{id:"southdale_mall_456",name:"Southdale Center",location:"Edina, MN"},{id:"mall_of_america_789",name:"Mall of America",location:"Bloomington, MN"},{id:"ridgedale_center_101",name:"Ridgedale Center",location:"Minnetonka, MN"},{id:"rosedale_center_202",name:"Rosedale Center",location:"Roseville, MN"}];return e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T,{className:"h-6 w-6 text-blue-600"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Mall Manager Dashboard"})]}),e.jsx(v,{variant:"outline",className:"px-3 py-1",children:"SPIRAL Platform v2.0"})]}),e.jsxs(i,{children:[e.jsx(N,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5 text-green-600"}),"Mall Selection"]})}),e.jsxs(n,{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:x.map(t=>e.jsx(m,{onClick:()=>r(t.id),variant:l===t.id?"default":"outline",className:"h-auto p-3 text-left justify-start",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:t.name}),e.jsx("div",{className:"text-xs opacity-70",children:t.location}),e.jsxs("div",{className:"text-xs opacity-50",children:["ID: ",t.id]})]})},t.id))}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsx(F,{placeholder:"Enter custom Mall ID (e.g., custom_mall_456)",value:c,onChange:t=>h(t.target.value),className:"flex-1"}),e.jsxs(m,{onClick:d,className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4"}),"Load Mall"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("span",{children:["Current Mall ID: ",e.jsx("strong",{children:l})]}),e.jsx("span",{children:"Feature settings apply to this mall only"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(i,{children:e.jsxs(n,{className:"p-4 text-center",children:[e.jsx(B,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:"42"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Active Retailers"})]})}),e.jsx(i,{children:e.jsxs(n,{className:"p-4 text-center",children:[e.jsx($,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:"1,250"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Daily Shoppers"})]})}),e.jsx(i,{children:e.jsxs(n,{className:"p-4 text-center",children:[e.jsx(H,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:"87%"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Feature Adoption"})]})}),e.jsx(i,{children:e.jsxs(n,{className:"p-4 text-center",children:[e.jsx(U,{className:"h-8 w-8 text-orange-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:"Grade A"}),e.jsx("div",{className:"text-sm text-gray-500",children:"System Health"})]})})]}),e.jsx(q,{mallId:l}),e.jsx(i,{children:e.jsx(n,{className:"p-4",children:e.jsxs("div",{className:"text-sm text-gray-500 text-center",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Mall Feature Management System"})," - Control which SPIRAL features are available in your mall. Changes take effect immediately and apply to all retailers and shoppers within this mall location."]}),e.jsxs("p",{className:"mt-2",children:["Need help? Contact SPIRAL support at"," ",e.jsx("span",{className:"text-blue-600",children:"support@spiral.com"})]})]})})})]})})}export{ie as default};
