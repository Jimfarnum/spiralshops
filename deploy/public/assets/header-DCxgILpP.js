import{c as J,a9 as ze,aa as Be,j as e,S as he,ab as cs,ac as ls,r as i,ad as Ke,a8 as N,ae as Ue,af as ds,X as le,ag as He,ah as Ve,ai as us,aj as ms,n as fe,u as ge,B as v,L as m,P as de,H as Ye,w as ve,e as F,N as ue,G as ps,o as xs,ak as hs,al as We,am as Xe,an as qe,ao as fs,ap as Z,aq as z,ar as gs,as as g,at as vs,au as bs,av as ys,aw as js,ax as Ns,ay as D,az as ws,aA as Qe,aB as Ms,aC as Je,aD as Cs,aE as Ss,aF as Rs,aG as Is,aH as _s,aI as ks,aJ as Ps,aK as Oe}from"./index-sTi6BLPu.js";import{u as ee}from"./authStore-CZi0z4It.js";import{S as be}from"./shopping-cart-DjSog6GS.js";import{U as ye}from"./user-DzNM48-o.js";import{H as Ze}from"./house-CU825Ekn.js";import{B as As}from"./building-2-CmMn_uHF.js";import{M as et}from"./map-pin-DZnENn3K.js";import{T as tt,C as Es}from"./truck-CNzMFiRQ.js";import{U as Ds}from"./users-n91sDYUr.js";import{P as Ts}from"./phone-BLNZn_t1.js";import{S as Os}from"./shopping-bag-B6bbBeT-.js";import{S as Ls}from"./store-fvM_Wsk5.js";import{R as Fs}from"./rocket-45aKcxBS.js";import{S as Le}from"./shield-DYGAM3k4.js";import{A as Gs}from"./activity-_qjqvmcS.js";import{S as st}from"./search-BDvTlR0f.js";import{C as $s}from"./credit-card-B1A0ZWNg.js";import{S as zs,a as Bs,c as Ks,d as Us}from"./select-U2_IWgob.js";import{C as me}from"./check-Cok4To_4.js";import{G as Hs}from"./globe-xPv-iFng.js";import{E as Vs}from"./eye-BfDIBTgL.js";import{Z as Fe}from"./zap-1vep6Tn5.js";import{W as Ys}from"./wallet-CrGmaB25.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=J("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=J("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Xs=ze()(Be((t,a)=>({spiralBalance:0,totalEarned:0,totalRedeemed:0,transactions:[],addTransaction:s=>{const r={...s,id:Math.random().toString(36).substr(2,9),date:new Date};t(n=>{const o=[r,...n.transactions];let l=n.spiralBalance,u=n.totalEarned,x=n.totalRedeemed;return s.type==="earned"?(l+=s.amount,u+=s.amount):s.type==="redeemed"&&(l-=s.amount,x+=s.amount),{transactions:o,spiralBalance:Math.max(0,l),totalEarned:u,totalRedeemed:x}})},calculateSpiralsEarned:(s,r,n)=>{let o=Math.floor(s);return n!=null&&n.pickup&&(o*=2),n!=null&&n.invite&&(o*=3),n!=null&&n.event&&(o*=5),o},getRedemptionValue:s=>s/100,clearTransactions:()=>{t({spiralBalance:0,totalEarned:0,totalRedeemed:0,transactions:[]})}}),{name:"spiral-loyalty-storage"})),je=()=>{const{spiralBalance:t}=Xs(),{isAuthenticated:a}=ee();return a?e.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-[var(--spiral-sage)]/10 to-[var(--spiral-coral)]/10 rounded-lg px-4 py-2 border border-[var(--spiral-coral)]/20",children:[e.jsx(he,{className:"h-4 w-4 text-[var(--spiral-coral)]"}),e.jsxs("span",{className:"text-sm font-semibold text-[var(--spiral-navy)]",children:[t," SPIRALs"]})]}):null},qs=cs,Qs=ls,Js=us,nt=i.forwardRef(({className:t,...a},s)=>e.jsx(Ke,{className:N("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:s}));nt.displayName=Ke.displayName;const Zs=ms("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ot=i.forwardRef(({side:t="right",className:a,children:s,...r},n)=>e.jsxs(Js,{children:[e.jsx(nt,{}),e.jsxs(Ue,{ref:n,className:N(Zs({side:t}),a),...r,children:[s,e.jsxs(ds,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ot.displayName=Ue.displayName;const ea=({className:t,...a})=>e.jsx("div",{className:N("flex flex-col space-y-2 text-center sm:text-left",t),...a});ea.displayName="SheetHeader";const ta=i.forwardRef(({className:t,...a},s)=>e.jsx(He,{ref:s,className:N("text-lg font-semibold text-foreground",t),...a}));ta.displayName=He.displayName;const sa=i.forwardRef(({className:t,...a},s)=>e.jsx(Ve,{ref:s,className:N("text-sm text-muted-foreground",t),...a}));sa.displayName=Ve.displayName;function aa({className:t}){const[a,s]=i.useState(!1),n=fe(p=>p.getTotalItems)(),{user:o,isAuthenticated:l,logout:u}=ee(),{toast:x}=ge(),f=()=>{u(),s(!1),x({title:"Logged out",description:"You have been successfully logged out.",duration:2e3})},c=()=>{s(!1)},d=[{href:"/",icon:Ze,label:"Discover",description:"Explore local businesses"},{href:"/products",icon:de,label:"Products",description:"Browse all products"},{href:"/malls",icon:As,label:"Malls",description:"Shopping centers"},{href:"/subscriptions",icon:de,label:"Subscriptions",description:"Subscription services"},{href:"/spiral-centers",icon:et,label:"SPIRAL Centers",description:"Logistics network"},{href:"/advanced-logistics",icon:tt,label:"Advanced Logistics",description:"Delivery management"},{href:"/following",icon:Ye,label:"Following",description:"Stores you follow"},{href:"/social-feed",icon:Ds,label:"Community",description:"Connect with locals"}];return e.jsx("div",{className:`lg:hidden ${t}`,children:e.jsxs(qs,{open:a,onOpenChange:s,children:[e.jsx(Qs,{asChild:!0,children:e.jsx(v,{variant:"outline",size:"sm",className:"border-[var(--spiral-coral)] text-[var(--spiral-coral)] hover:bg-[var(--spiral-coral)]/10",children:e.jsx(rt,{className:"h-4 w-4"})})}),e.jsx(ot,{side:"left",className:"w-80 bg-white",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-6 border-b border-gray-200",children:[e.jsx("img",{src:"@assets/mqy7md_1753122664873.jpg",alt:"SPIRAL Logo",className:"w-10 h-10 object-contain rounded-md"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-[var(--spiral-navy)]",children:"SPIRAL"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Everything Local. Just for You."})]})]}),l&&e.jsx("div",{className:"py-4 border-b border-gray-200",children:e.jsx(je,{})}),e.jsx("nav",{className:"flex-1 py-6",children:e.jsx("div",{className:"space-y-2",children:d.map(p=>e.jsx(m,{href:p.href,onClick:c,children:e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-[var(--spiral-cream)] transition-colors group cursor-pointer",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--spiral-coral)]/10 flex items-center justify-center group-hover:bg-[var(--spiral-coral)]/20 transition-colors",children:e.jsx(p.icon,{className:"h-5 w-5 text-[var(--spiral-coral)]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--spiral-navy)] group-hover:text-[var(--spiral-coral)] transition-colors",children:p.label}),e.jsx("p",{className:"text-sm text-gray-600",children:p.description})]})]})},p.href))})}),e.jsxs("div",{className:"border-t border-gray-200 pt-6 space-y-3",children:[e.jsx(m,{to:"/cart",onClick:c,children:e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-[var(--spiral-cream)] hover:bg-[var(--spiral-coral)]/10 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(be,{className:"h-5 w-5 text-[var(--spiral-coral)]"}),e.jsx("span",{className:"font-semibold text-[var(--spiral-navy)]",children:"Shopping Cart"})]}),n>0&&e.jsx("span",{className:"bg-[var(--spiral-coral)] text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:n})]})}),l?e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{to:"/account",onClick:c,children:e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-[var(--spiral-cream)] transition-colors cursor-pointer",children:[e.jsx(ye,{className:"h-5 w-5 text-[var(--spiral-sage)]"}),e.jsx("span",{className:"font-semibold text-[var(--spiral-navy)]",children:"My Account"})]})}),e.jsxs("button",{onClick:f,className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-red-50 transition-colors text-left",children:[e.jsx(at,{className:"h-5 w-5 text-red-500"}),e.jsx("span",{className:"font-semibold text-red-500",children:"Sign Out"})]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{to:"/login",onClick:c,children:e.jsx(v,{className:"w-full bg-[var(--spiral-coral)] hover:bg-[var(--spiral-coral)]/90 text-white",children:"Sign In"})}),e.jsx(m,{to:"/signup",onClick:c,children:e.jsx(v,{variant:"outline",className:"w-full border-[var(--spiral-navy)] text-[var(--spiral-navy)]",children:"Create Account"})})]})]})]})})]})})}const ra=({isOpen:t,onToggle:a,onClose:s})=>{const[r]=ve(),n=[{icon:e.jsx(Ze,{className:"w-5 h-5"}),label:"Home",path:"/",description:"Back to homepage"},{icon:e.jsx(Os,{className:"w-5 h-5"}),label:"Shop",path:"/products",description:"Browse products"},{icon:e.jsx(Ls,{className:"w-5 h-5"}),label:"Stores",path:"/stores",description:"Local businesses"},{icon:e.jsx(et,{className:"w-5 h-5"}),label:"Mall Directory",path:"/mall-directory",description:"Find nearby stores"},{icon:e.jsx(ps,{className:"w-5 h-5"}),label:"SPIRALs",path:"/redeem-spirals",description:"Loyalty rewards"},{icon:e.jsx(he,{className:"w-5 h-5"}),label:"Social Rewards",path:"/social-rewards",description:"Earn by sharing",badge:"NEW"},{icon:e.jsx(Ye,{className:"w-5 h-5"}),label:"Wishlist",path:"/wishlist",description:"Saved items"},{icon:e.jsx(tt,{className:"w-5 h-5"}),label:"Orders",path:"/orders",description:"Track purchases"},{icon:e.jsx(ye,{className:"w-5 h-5"}),label:"Profile",path:"/profile",description:"Account settings"},{icon:e.jsx(Fs,{className:"w-5 h-5"}),label:"Function Agent",path:"/platform-demo",description:"Platform demo",badge:"DEMO"},{icon:e.jsx(Le,{className:"w-5 h-5"}),label:"Trust",path:"/trust",description:"Security & reliability"},{icon:e.jsx(Gs,{className:"w-5 h-5"}),label:"Admin",path:"/spiral-admin-login",description:"Admin dashboard"}],o=[{icon:e.jsx(st,{className:"w-4 h-4"}),label:"Search",path:"/products",color:"bg-blue-500"},{icon:e.jsx(xs,{className:"w-4 h-4"}),label:"Alerts",path:"/alerts",color:"bg-orange-500"},{icon:e.jsx($s,{className:"w-4 h-4"}),label:"Payment",path:"/payment-methods",color:"bg-green-500"},{icon:e.jsx(Le,{className:"w-4 h-4"}),label:"Trust",path:"/trust",color:"bg-green-500"}];return e.jsxs(e.Fragment,{children:[e.jsx(v,{onClick:a,variant:"ghost",size:"sm",className:"md:hidden touch-target p-2","aria-label":"Toggle menu",children:t?e.jsx(le,{className:"w-6 h-6"}):e.jsx(rt,{className:"w-6 h-6"})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:s}),e.jsxs("div",{className:`
        fixed top-0 right-0 h-full w-80 max-w-[90vw] bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out md:hidden
        ${t?"translate-x-0":"translate-x-full"}
      `,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-[var(--spiral-navy)] to-[var(--spiral-coral)] text-white",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:"SPIRAL"}),e.jsx("p",{className:"text-sm text-white/80",children:"Local Shopping Platform"})]}),e.jsx(v,{onClick:s,variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 touch-target",children:e.jsx(le,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 border-b",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-3",children:"Quick Actions"}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:o.map(l=>e.jsxs(m,{to:l.path,onClick:s,className:"flex flex-col items-center p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:`${l.color} text-white p-2 rounded-lg mb-1`,children:l.icon}),e.jsx("span",{className:"text-xs text-gray-600",children:l.label})]},l.path))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("nav",{className:"p-2",children:n.map(l=>{const u=r===l.path;return e.jsxs(m,{to:l.path,onClick:x=>{console.log(`MobileNav: Navigating to ${l.path} (${l.label})`),s()},className:`
                    flex items-center gap-3 p-3 rounded-lg mb-1 transition-all duration-200 touch-target
                    ${u?"bg-[var(--spiral-coral)]/10 text-[var(--spiral-coral)] border-l-4 border-[var(--spiral-coral)]":"text-gray-700 hover:bg-gray-50"}
                  `,children:[e.jsx("div",{className:`${u?"text-[var(--spiral-coral)]":"text-gray-500"}`,children:l.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:l.label}),l.badge&&e.jsx(F,{className:"bg-yellow-400 text-black text-xs px-1.5 py-0.5",children:l.badge})]}),e.jsx("p",{className:"text-xs text-gray-500",children:l.description})]})]},l.path)})})}),e.jsxs("div",{className:"p-4 border-t bg-gray-50",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(m,{to:"/settings",onClick:s,className:"flex items-center gap-3 p-2 text-gray-600 hover:text-gray-800 transition-colors touch-target",children:[e.jsx(ue,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Settings"})]}),e.jsxs(m,{to:"/help",onClick:s,className:"flex items-center gap-3 p-2 text-gray-600 hover:text-gray-800 transition-colors touch-target",children:[e.jsx(Ts,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Help & Support"})]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t",children:e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"SPIRAL v2.0 • Local Commerce Platform"})})]})]})]})};function na(){const[t,a]=i.useState(null);return i.useEffect(()=>{fetch("/api/trust/public").then(s=>s.json()).then(a).catch(()=>{})},[]),t?e.jsx("a",{href:"/trust",className:"block w-full bg-green-50 border border-green-200 rounded-lg p-3 mb-3",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"SPIRAL Buyer Guarantee"})," · Uptime ",t.uptime90d,"% · API p50 ",t.apiP50ms,"ms · On-time pickup ",t.pickupOnTimeRate30d,"%"]})}):null}function oa(){const[t,a]=i.useState(!1),r=fe(u=>u.getTotalItems)(),{user:n,isAuthenticated:o}=ee();ve();const l=()=>a(!t);return e.jsx(e.Fragment,{children:e.jsxs("header",{className:"bg-white shadow-sm sticky top-0 z-50 border-b border-gray-100 md:hidden",children:[e.jsxs("div",{className:"flex items-center justify-between h-14 px-4",children:[e.jsxs(m,{to:"/",className:"flex items-center gap-2",children:[e.jsx("img",{src:"/spiral-blue.svg",alt:"SPIRAL Logo",className:"w-8 h-8 object-contain"}),e.jsx("span",{className:"text-lg font-bold text-[var(--spiral-navy)]",children:"SPIRAL"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{to:"/products",children:e.jsx(v,{variant:"ghost",size:"sm",className:"p-2",children:e.jsx(st,{className:"w-5 h-5"})})}),e.jsx(m,{to:"/cart",children:e.jsxs(v,{variant:"ghost",size:"sm",className:"relative p-2",children:[e.jsx(be,{className:"w-5 h-5"}),r>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-[var(--spiral-coral)] text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:r})]})}),e.jsx(ra,{isOpen:t,onToggle:l,onClose:()=>a(!1)})]})]}),e.jsx("div",{className:"px-4 py-2 border-t border-gray-100",children:e.jsx(na,{})}),o&&e.jsx("div",{className:"bg-gray-50 px-4 py-2 border-t border-gray-100",children:e.jsx(je,{})})]})})}function ia({compact:t=!1,showProgress:a=!1}){const{toast:s}=ge(),[r,n]=i.useState("en"),[o,l]=i.useState(!1),u=[{code:"en",name:"English",nativeName:"English",flag:"🇺🇸",completionRate:100},{code:"es",name:"Spanish",nativeName:"Español",flag:"🇪🇸",completionRate:95},{code:"fr",name:"French",nativeName:"Français",flag:"🇫🇷",completionRate:85},{code:"de",name:"German",nativeName:"Deutsch",flag:"🇩🇪",completionRate:80},{code:"pt",name:"Portuguese",nativeName:"Português",flag:"🇧🇷",completionRate:75}];i.useEffect(()=>{const c=localStorage.getItem("spiral-language")||"en";if(n(c),document.documentElement.lang=c,!localStorage.getItem("spiral-language")){const d=navigator.language.split("-")[0];u.find(y=>y.code===d)&&(n(d),localStorage.setItem("spiral-language",d),document.documentElement.lang=d)}},[]);const x=async c=>{l(!0),await new Promise(p=>setTimeout(p,500)),n(c),localStorage.setItem("spiral-language",c),document.documentElement.lang=c;const d=u.find(p=>p.code===c);s({title:(d==null?void 0:d.code)==="es"?"Idioma cambiado":"Language changed",description:(d==null?void 0:d.code)==="es"?`Cambiado a ${d.nativeName}`:`Switched to ${d==null?void 0:d.nativeName}`}),l(!1),setTimeout(()=>{window.location.reload()},1e3)},f=u.find(c=>c.code===r);return t?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(zs,{value:r,onValueChange:x,disabled:o,children:[e.jsx(Bs,{className:"w-auto min-w-[100px] h-8 text-xs",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:f==null?void 0:f.flag}),e.jsx("span",{className:"hidden sm:inline",children:f==null?void 0:f.code.toUpperCase()})]})}),e.jsx(Ks,{children:u.map(c=>e.jsx(Us,{value:c.code,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:c.flag}),e.jsx("span",{children:c.nativeName}),c.completionRate<100&&a&&e.jsxs(F,{variant:"secondary",className:"text-xs",children:[c.completionRate,"%"]}),c.code===r&&e.jsx(me,{className:"h-3 w-3 text-green-600"})]})},c.code))})]}),o&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-[var(--spiral-coral)]"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"h-5 w-5 text-[var(--spiral-coral)]"}),e.jsx("h3",{className:"text-lg font-semibold text-[var(--spiral-navy)]",children:r==="es"?"Seleccionar Idioma":"Language Selection"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:u.map(c=>e.jsx(v,{variant:c.code===r?"default":"outline",className:`justify-start h-auto p-4 ${c.code===r?"bg-[var(--spiral-coral)] text-white":"hover:bg-gray-50"}`,onClick:()=>x(c.code),disabled:o,children:e.jsxs("div",{className:"flex items-center gap-3 w-full",children:[e.jsx("span",{className:"text-2xl",children:c.flag}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium",children:c.nativeName}),e.jsx("div",{className:"text-xs opacity-75",children:c.name}),a&&c.completionRate<100&&e.jsx("div",{className:"mt-1",children:e.jsxs(F,{variant:"secondary",className:"text-xs",children:[c.completionRate,"% Complete"]})})]}),c.code===r&&e.jsx(me,{className:"h-4 w-4 text-white"})]})},c.code))}),o&&e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-[var(--spiral-coral)]"}),r==="es"?"Cambiando idioma...":"Changing language..."]}),a&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:r==="es"?"Estado de Traducción":"Translation Status"}),e.jsx("div",{className:"space-y-2",children:u.map(c=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm",children:[c.flag," ",c.nativeName]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${c.completionRate}%`}})}),e.jsxs("span",{className:"text-xs text-gray-600 w-8",children:[c.completionRate,"%"]})]})]},c.code))})]})]})}var pe=["Enter"," "],ca=["ArrowDown","PageUp","Home"],it=["ArrowUp","PageDown","End"],la=[...ca,...it],da={ltr:[...pe,"ArrowRight"],rtl:[...pe,"ArrowLeft"]},ua={ltr:["ArrowLeft"],rtl:["ArrowRight"]},B="Menu",[G,ma,pa]=hs(B),[_,ct]=We(B,[pa,Xe,qe]),te=Xe(),lt=qe(),[xa,k]=_(B),[ha,K]=_(B),dt=t=>{const{__scopeMenu:a,open:s=!1,children:r,dir:n,onOpenChange:o,modal:l=!0}=t,u=te(a),[x,f]=i.useState(null),c=i.useRef(!1),d=Qe(o),p=Rs(n);return i.useEffect(()=>{const y=()=>{c.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>c.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),e.jsx(Is,{...u,children:e.jsx(xa,{scope:a,open:s,onOpenChange:d,content:x,onContentChange:f,children:e.jsx(ha,{scope:a,onClose:i.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:c,dir:p,modal:l,children:r})})})};dt.displayName=B;var fa="MenuAnchor",Ne=i.forwardRef((t,a)=>{const{__scopeMenu:s,...r}=t,n=te(s);return e.jsx(fs,{...n,...r,ref:a})});Ne.displayName=fa;var we="MenuPortal",[ga,ut]=_(we,{forceMount:void 0}),mt=t=>{const{__scopeMenu:a,forceMount:s,children:r,container:n}=t,o=k(we,a);return e.jsx(ga,{scope:a,forceMount:s,children:e.jsx(Z,{present:s||o.open,children:e.jsx(_s,{asChild:!0,container:n,children:r})})})};mt.displayName=we;var M="MenuContent",[va,Me]=_(M),pt=i.forwardRef((t,a)=>{const s=ut(M,t.__scopeMenu),{forceMount:r=s.forceMount,...n}=t,o=k(M,t.__scopeMenu),l=K(M,t.__scopeMenu);return e.jsx(G.Provider,{scope:t.__scopeMenu,children:e.jsx(Z,{present:r||o.open,children:e.jsx(G.Slot,{scope:t.__scopeMenu,children:l.modal?e.jsx(ba,{...n,ref:a}):e.jsx(ya,{...n,ref:a})})})})}),ba=i.forwardRef((t,a)=>{const s=k(M,t.__scopeMenu),r=i.useRef(null),n=z(a,r);return i.useEffect(()=>{const o=r.current;if(o)return gs(o)},[]),e.jsx(Ce,{...t,ref:n,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:g(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),ya=i.forwardRef((t,a)=>{const s=k(M,t.__scopeMenu);return e.jsx(Ce,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),ja=ks("MenuContent.ScrollLock"),Ce=i.forwardRef((t,a)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:x,onEscapeKeyDown:f,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:p,onDismiss:y,disableOutsideScroll:b,...I}=t,P=k(M,s),T=K(M,s),U=te(s),H=lt(s),ke=ma(s),[ss,Pe]=i.useState(null),V=i.useRef(null),as=z(a,V,P.onContentChange),Y=i.useRef(0),W=i.useRef(""),rs=i.useRef(0),ae=i.useRef(null),Ae=i.useRef("right"),re=i.useRef(0),ns=b?Cs:i.Fragment,os=b?{as:ja,allowPinchZoom:!0}:void 0,is=h=>{var E,De;const w=W.current+h,C=ke().filter(S=>!S.disabled),R=document.activeElement,ne=(E=C.find(S=>S.ref.current===R))==null?void 0:E.textValue,oe=C.map(S=>S.textValue),Ee=Ea(oe,w,ne),O=(De=C.find(S=>S.textValue===Ee))==null?void 0:De.ref.current;(function S(Te){W.current=Te,window.clearTimeout(Y.current),Te!==""&&(Y.current=window.setTimeout(()=>S(""),1e3))})(w),O&&setTimeout(()=>O.focus())};i.useEffect(()=>()=>window.clearTimeout(Y.current),[]),vs();const A=i.useCallback(h=>{var C,R;return Ae.current===((C=ae.current)==null?void 0:C.side)&&Ta(h,(R=ae.current)==null?void 0:R.area)},[]);return e.jsx(va,{scope:s,searchRef:W,onItemEnter:i.useCallback(h=>{A(h)&&h.preventDefault()},[A]),onItemLeave:i.useCallback(h=>{var w;A(h)||((w=V.current)==null||w.focus(),Pe(null))},[A]),onTriggerLeave:i.useCallback(h=>{A(h)&&h.preventDefault()},[A]),pointerGraceTimerRef:rs,onPointerGraceIntentChange:i.useCallback(h=>{ae.current=h},[]),children:e.jsx(ns,{...os,children:e.jsx(bs,{asChild:!0,trapped:n,onMountAutoFocus:g(o,h=>{var w;h.preventDefault(),(w=V.current)==null||w.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:e.jsx(ys,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:p,onDismiss:y,children:e.jsx(js,{asChild:!0,...H,dir:T.dir,orientation:"vertical",loop:r,currentTabStopId:ss,onCurrentTabStopIdChange:Pe,onEntryFocus:g(x,h=>{T.isUsingKeyboardRef.current||h.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Ns,{role:"menu","aria-orientation":"vertical","data-state":_t(P.open),"data-radix-menu-content":"",dir:T.dir,...U,...I,ref:as,style:{outline:"none",...I.style},onKeyDown:g(I.onKeyDown,h=>{const C=h.target.closest("[data-radix-menu-content]")===h.currentTarget,R=h.ctrlKey||h.altKey||h.metaKey,ne=h.key.length===1;C&&(h.key==="Tab"&&h.preventDefault(),!R&&ne&&is(h.key));const oe=V.current;if(h.target!==oe||!la.includes(h.key))return;h.preventDefault();const O=ke().filter(E=>!E.disabled).map(E=>E.ref.current);it.includes(h.key)&&O.reverse(),Pa(O)}),onBlur:g(t.onBlur,h=>{h.currentTarget.contains(h.target)||(window.clearTimeout(Y.current),W.current="")}),onPointerMove:g(t.onPointerMove,$(h=>{const w=h.target,C=re.current!==h.clientX;if(h.currentTarget.contains(w)&&C){const R=h.clientX>re.current?"right":"left";Ae.current=R,re.current=h.clientX}}))})})})})})})});pt.displayName=M;var Na="MenuGroup",Se=i.forwardRef((t,a)=>{const{__scopeMenu:s,...r}=t;return e.jsx(D.div,{role:"group",...r,ref:a})});Se.displayName=Na;var wa="MenuLabel",xt=i.forwardRef((t,a)=>{const{__scopeMenu:s,...r}=t;return e.jsx(D.div,{...r,ref:a})});xt.displayName=wa;var q="MenuItem",Ge="menu.itemSelect",se=i.forwardRef((t,a)=>{const{disabled:s=!1,onSelect:r,...n}=t,o=i.useRef(null),l=K(q,t.__scopeMenu),u=Me(q,t.__scopeMenu),x=z(a,o),f=i.useRef(!1),c=()=>{const d=o.current;if(!s&&d){const p=new CustomEvent(Ge,{bubbles:!0,cancelable:!0});d.addEventListener(Ge,y=>r==null?void 0:r(y),{once:!0}),Ss(d,p),p.defaultPrevented?f.current=!1:l.onClose()}};return e.jsx(ht,{...n,ref:x,disabled:s,onClick:g(t.onClick,c),onPointerDown:d=>{var p;(p=t.onPointerDown)==null||p.call(t,d),f.current=!0},onPointerUp:g(t.onPointerUp,d=>{var p;f.current||(p=d.currentTarget)==null||p.click()}),onKeyDown:g(t.onKeyDown,d=>{const p=u.searchRef.current!=="";s||p&&d.key===" "||pe.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});se.displayName=q;var ht=i.forwardRef((t,a)=>{const{__scopeMenu:s,disabled:r=!1,textValue:n,...o}=t,l=Me(q,s),u=lt(s),x=i.useRef(null),f=z(a,x),[c,d]=i.useState(!1),[p,y]=i.useState("");return i.useEffect(()=>{const b=x.current;b&&y((b.textContent??"").trim())},[o.children]),e.jsx(G.ItemSlot,{scope:s,disabled:r,textValue:n??p,children:e.jsx(ws,{asChild:!0,...u,focusable:!r,children:e.jsx(D.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:f,onPointerMove:g(t.onPointerMove,$(b=>{r?l.onItemLeave(b):(l.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:g(t.onPointerLeave,$(b=>l.onItemLeave(b))),onFocus:g(t.onFocus,()=>d(!0)),onBlur:g(t.onBlur,()=>d(!1))})})})}),Ma="MenuCheckboxItem",ft=i.forwardRef((t,a)=>{const{checked:s=!1,onCheckedChange:r,...n}=t;return e.jsx(jt,{scope:t.__scopeMenu,checked:s,children:e.jsx(se,{role:"menuitemcheckbox","aria-checked":Q(s)?"mixed":s,...n,ref:a,"data-state":Ie(s),onSelect:g(n.onSelect,()=>r==null?void 0:r(Q(s)?!0:!s),{checkForDefaultPrevented:!1})})})});ft.displayName=Ma;var gt="MenuRadioGroup",[Ca,Sa]=_(gt,{value:void 0,onValueChange:()=>{}}),vt=i.forwardRef((t,a)=>{const{value:s,onValueChange:r,...n}=t,o=Qe(r);return e.jsx(Ca,{scope:t.__scopeMenu,value:s,onValueChange:o,children:e.jsx(Se,{...n,ref:a})})});vt.displayName=gt;var bt="MenuRadioItem",yt=i.forwardRef((t,a)=>{const{value:s,...r}=t,n=Sa(bt,t.__scopeMenu),o=s===n.value;return e.jsx(jt,{scope:t.__scopeMenu,checked:o,children:e.jsx(se,{role:"menuitemradio","aria-checked":o,...r,ref:a,"data-state":Ie(o),onSelect:g(r.onSelect,()=>{var l;return(l=n.onValueChange)==null?void 0:l.call(n,s)},{checkForDefaultPrevented:!1})})})});yt.displayName=bt;var Re="MenuItemIndicator",[jt,Ra]=_(Re,{checked:!1}),Nt=i.forwardRef((t,a)=>{const{__scopeMenu:s,forceMount:r,...n}=t,o=Ra(Re,s);return e.jsx(Z,{present:r||Q(o.checked)||o.checked===!0,children:e.jsx(D.span,{...n,ref:a,"data-state":Ie(o.checked)})})});Nt.displayName=Re;var Ia="MenuSeparator",wt=i.forwardRef((t,a)=>{const{__scopeMenu:s,...r}=t;return e.jsx(D.div,{role:"separator","aria-orientation":"horizontal",...r,ref:a})});wt.displayName=Ia;var _a="MenuArrow",Mt=i.forwardRef((t,a)=>{const{__scopeMenu:s,...r}=t,n=te(s);return e.jsx(Ms,{...n,...r,ref:a})});Mt.displayName=_a;var ka="MenuSub",[Wr,Ct]=_(ka),L="MenuSubTrigger",St=i.forwardRef((t,a)=>{const s=k(L,t.__scopeMenu),r=K(L,t.__scopeMenu),n=Ct(L,t.__scopeMenu),o=Me(L,t.__scopeMenu),l=i.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:x}=o,f={__scopeMenu:t.__scopeMenu},c=i.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return i.useEffect(()=>c,[c]),i.useEffect(()=>{const d=u.current;return()=>{window.clearTimeout(d),x(null)}},[u,x]),e.jsx(Ne,{asChild:!0,...f,children:e.jsx(ht,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":n.contentId,"data-state":_t(s.open),...t,ref:Je(a,n.onTriggerChange),onClick:d=>{var p;(p=t.onClick)==null||p.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:g(t.onPointerMove,$(d=>{o.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!s.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{s.onOpenChange(!0),c()},100))})),onPointerLeave:g(t.onPointerLeave,$(d=>{var y,b;c();const p=(y=s.content)==null?void 0:y.getBoundingClientRect();if(p){const I=(b=s.content)==null?void 0:b.dataset.side,P=I==="right",T=P?-5:5,U=p[P?"left":"right"],H=p[P?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+T,y:d.clientY},{x:U,y:p.top},{x:H,y:p.top},{x:H,y:p.bottom},{x:U,y:p.bottom}],side:I}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:g(t.onKeyDown,d=>{var y;const p=o.searchRef.current!=="";t.disabled||p&&d.key===" "||da[r.dir].includes(d.key)&&(s.onOpenChange(!0),(y=s.content)==null||y.focus(),d.preventDefault())})})})});St.displayName=L;var Rt="MenuSubContent",It=i.forwardRef((t,a)=>{const s=ut(M,t.__scopeMenu),{forceMount:r=s.forceMount,...n}=t,o=k(M,t.__scopeMenu),l=K(M,t.__scopeMenu),u=Ct(Rt,t.__scopeMenu),x=i.useRef(null),f=z(a,x);return e.jsx(G.Provider,{scope:t.__scopeMenu,children:e.jsx(Z,{present:r||o.open,children:e.jsx(G.Slot,{scope:t.__scopeMenu,children:e.jsx(Ce,{id:u.contentId,"aria-labelledby":u.triggerId,...n,ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:c=>{var d;l.isUsingKeyboardRef.current&&((d=x.current)==null||d.focus()),c.preventDefault()},onCloseAutoFocus:c=>c.preventDefault(),onFocusOutside:g(t.onFocusOutside,c=>{c.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:g(t.onEscapeKeyDown,c=>{l.onClose(),c.preventDefault()}),onKeyDown:g(t.onKeyDown,c=>{var y;const d=c.currentTarget.contains(c.target),p=ua[l.dir].includes(c.key);d&&p&&(o.onOpenChange(!1),(y=u.trigger)==null||y.focus(),c.preventDefault())})})})})})});It.displayName=Rt;function _t(t){return t?"open":"closed"}function Q(t){return t==="indeterminate"}function Ie(t){return Q(t)?"indeterminate":t?"checked":"unchecked"}function Pa(t){const a=document.activeElement;for(const s of t)if(s===a||(s.focus(),document.activeElement!==a))return}function Aa(t,a){return t.map((s,r)=>t[(a+r)%t.length])}function Ea(t,a,s){const n=a.length>1&&Array.from(a).every(f=>f===a[0])?a[0]:a,o=s?t.indexOf(s):-1;let l=Aa(t,Math.max(o,0));n.length===1&&(l=l.filter(f=>f!==s));const x=l.find(f=>f.toLowerCase().startsWith(n.toLowerCase()));return x!==s?x:void 0}function Da(t,a){const{x:s,y:r}=t;let n=!1;for(let o=0,l=a.length-1;o<a.length;l=o++){const u=a[o].x,x=a[o].y,f=a[l].x,c=a[l].y;x>r!=c>r&&s<(f-u)*(r-x)/(c-x)+u&&(n=!n)}return n}function Ta(t,a){if(!a)return!1;const s={x:t.clientX,y:t.clientY};return Da(s,a)}function $(t){return a=>a.pointerType==="mouse"?t(a):void 0}var Oa=dt,La=Ne,Fa=mt,Ga=pt,$a=Se,za=xt,Ba=se,Ka=ft,Ua=vt,Ha=yt,Va=Nt,Ya=wt,Wa=Mt,Xa=St,qa=It,_e="DropdownMenu",[Qa,Xr]=We(_e,[ct]),j=ct(),[Ja,kt]=Qa(_e),Pt=t=>{const{__scopeDropdownMenu:a,children:s,dir:r,open:n,defaultOpen:o,onOpenChange:l,modal:u=!0}=t,x=j(a),f=i.useRef(null),[c=!1,d]=Ps({prop:n,defaultProp:o,onChange:l});return e.jsx(Ja,{scope:a,triggerId:Oe(),triggerRef:f,contentId:Oe(),open:c,onOpenChange:d,onOpenToggle:i.useCallback(()=>d(p=>!p),[d]),modal:u,children:e.jsx(Oa,{...x,open:c,onOpenChange:d,dir:r,modal:u,children:s})})};Pt.displayName=_e;var At="DropdownMenuTrigger",Et=i.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...n}=t,o=kt(At,s),l=j(s);return e.jsx(La,{asChild:!0,...l,children:e.jsx(D.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...n,ref:Je(a,o.triggerRef),onPointerDown:g(t.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:g(t.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});Et.displayName=At;var Za="DropdownMenuPortal",Dt=t=>{const{__scopeDropdownMenu:a,...s}=t,r=j(a);return e.jsx(Fa,{...r,...s})};Dt.displayName=Za;var Tt="DropdownMenuContent",Ot=i.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,n=kt(Tt,s),o=j(s),l=i.useRef(!1);return e.jsx(Ga,{id:n.contentId,"aria-labelledby":n.triggerId,...o,...r,ref:a,onCloseAutoFocus:g(t.onCloseAutoFocus,u=>{var x;l.current||(x=n.triggerRef.current)==null||x.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:g(t.onInteractOutside,u=>{const x=u.detail.originalEvent,f=x.button===0&&x.ctrlKey===!0,c=x.button===2||f;(!n.modal||c)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ot.displayName=Tt;var er="DropdownMenuGroup",tr=i.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,n=j(s);return e.jsx($a,{...n,...r,ref:a})});tr.displayName=er;var sr="DropdownMenuLabel",Lt=i.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,n=j(s);return e.jsx(za,{...n,...r,ref:a})});Lt.displayName=sr;var ar="DropdownMenuItem",Ft=i.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,n=j(s);return e.jsx(Ba,{...n,...r,ref:a})});Ft.displayName=ar;var rr="DropdownMenuCheckboxItem",Gt=i.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,n=j(s);return e.jsx(Ka,{...n,...r,ref:a})});Gt.displayName=rr;var nr="DropdownMenuRadioGroup",or=i.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,n=j(s);return e.jsx(Ua,{...n,...r,ref:a})});or.displayName=nr;var ir="DropdownMenuRadioItem",$t=i.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,n=j(s);return e.jsx(Ha,{...n,...r,ref:a})});$t.displayName=ir;var cr="DropdownMenuItemIndicator",zt=i.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,n=j(s);return e.jsx(Va,{...n,...r,ref:a})});zt.displayName=cr;var lr="DropdownMenuSeparator",Bt=i.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,n=j(s);return e.jsx(Ya,{...n,...r,ref:a})});Bt.displayName=lr;var dr="DropdownMenuArrow",ur=i.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,n=j(s);return e.jsx(Wa,{...n,...r,ref:a})});ur.displayName=dr;var mr="DropdownMenuSubTrigger",Kt=i.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,n=j(s);return e.jsx(Xa,{...n,...r,ref:a})});Kt.displayName=mr;var pr="DropdownMenuSubContent",Ut=i.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,n=j(s);return e.jsx(qa,{...n,...r,ref:a,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ut.displayName=pr;var xr=Pt,hr=Et,fr=Dt,Ht=Ot,Vt=Lt,Yt=Ft,Wt=Gt,Xt=$t,qt=zt,Qt=Bt,Jt=Kt,Zt=Ut;const gr=xr,vr=hr,br=i.forwardRef(({className:t,inset:a,children:s,...r},n)=>e.jsxs(Jt,{ref:n,className:N("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",t),...r,children:[s,e.jsx(Ws,{className:"ml-auto"})]}));br.displayName=Jt.displayName;const yr=i.forwardRef(({className:t,...a},s)=>e.jsx(Zt,{ref:s,className:N("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...a}));yr.displayName=Zt.displayName;const es=i.forwardRef(({className:t,sideOffset:a=4,...s},r)=>e.jsx(fr,{children:e.jsx(Ht,{ref:r,sideOffset:a,className:N("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...s})}));es.displayName=Ht.displayName;const X=i.forwardRef(({className:t,inset:a,...s},r)=>e.jsx(Yt,{ref:r,className:N("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",t),...s}));X.displayName=Yt.displayName;const jr=i.forwardRef(({className:t,children:a,checked:s,...r},n)=>e.jsxs(Wt,{ref:n,className:N("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(qt,{children:e.jsx(me,{className:"h-4 w-4"})})}),a]}));jr.displayName=Wt.displayName;const Nr=i.forwardRef(({className:t,children:a,...s},r)=>e.jsxs(Xt,{ref:r,className:N("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(qt,{children:e.jsx(Es,{className:"h-2 w-2 fill-current"})})}),a]}));Nr.displayName=Xt.displayName;const ts=i.forwardRef(({className:t,inset:a,...s},r)=>e.jsx(Vt,{ref:r,className:N("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",t),...s}));ts.displayName=Vt.displayName;const xe=i.forwardRef(({className:t,...a},s)=>e.jsx(Qt,{ref:s,className:N("-mx-1 my-1 h-px bg-muted",t),...a}));xe.displayName=Qt.displayName;const ce={highContrast:!1,largeText:!1,dyslexiaFont:!1,reducedMotion:!1,largerClickTargets:!1,stickyHover:!1,slowAnimations:!1,simplifiedLayout:!1,focusIndicators:!1,autoplayDisabled:!1,visualAlerts:!1,captionsEnabled:!1,accessibilityMode:!1},wr=ze()(Be((t,a)=>({...ce,updateSetting:(s,r)=>{t({[s]:r}),setTimeout(()=>a().applySettingsToDOM(),0)},enableAccessibilityMode:()=>{t({accessibilityMode:!0,highContrast:!0,largeText:!0,reducedMotion:!0,largerClickTargets:!0,focusIndicators:!0,slowAnimations:!0,autoplayDisabled:!0,visualAlerts:!0}),setTimeout(()=>a().applySettingsToDOM(),0)},disableAccessibilityMode:()=>{t(ce),setTimeout(()=>a().applySettingsToDOM(),0)},resetSettings:()=>{t(ce),setTimeout(()=>a().applySettingsToDOM(),0)},applySettingsToDOM:()=>{const s=a(),r=document.documentElement;r.classList.toggle("accessibility-high-contrast",s.highContrast),r.classList.toggle("accessibility-large-text",s.largeText),r.classList.toggle("accessibility-dyslexia-font",s.dyslexiaFont),r.classList.toggle("accessibility-reduced-motion",s.reducedMotion),r.classList.toggle("accessibility-larger-targets",s.largerClickTargets),r.classList.toggle("accessibility-sticky-hover",s.stickyHover),r.classList.toggle("accessibility-slow-animations",s.slowAnimations),r.classList.toggle("accessibility-simplified-layout",s.simplifiedLayout),r.classList.toggle("accessibility-focus-indicators",s.focusIndicators),r.classList.toggle("accessibility-mode",s.accessibilityMode),r.style.setProperty("--accessibility-font-scale",s.largeText?"1.2":"1"),r.style.setProperty("--accessibility-target-size",s.largerClickTargets?"48px":"40px"),r.style.setProperty("--accessibility-animation-duration",s.slowAnimations?"0.8s":"0.3s"),s.reducedMotion?r.style.setProperty("--motion-preference","reduce"):r.style.setProperty("--motion-preference","no-preference");const n=document.getElementById("accessibility-styles")||document.createElement("style");n.id="accessibility-styles",document.head.contains(n)||document.head.appendChild(n),n.textContent=`
          ${s.reducedMotion?`
            *, *::before, *::after {
              animation-duration: 0.01ms !important;
              animation-iteration-count: 1 !important;
              transition-duration: 0.01ms !important;
              scroll-behavior: auto !important;
            }
          `:""}
          
          ${s.autoplayDisabled?`
            video, audio {
              autoplay: none !important;
            }
          `:""}
        `}}),{name:"spiral-accessibility-settings",onRehydrateStorage:()=>t=>{t&&setTimeout(()=>t.applySettingsToDOM(),100)}})),$e=t=>{const a=document.createElement("div");a.setAttribute("aria-live","polite"),a.setAttribute("aria-atomic","true"),a.style.position="absolute",a.style.left="-10000px",a.style.width="1px",a.style.height="1px",a.style.overflow="hidden",document.body.appendChild(a),a.textContent=t,setTimeout(()=>{document.body.removeChild(a)},1e3)};function Mr({compact:t=!1,showLabel:a=!0}){const[s,r]=i.useState(!1),n=wr(),o=()=>{n.enableAccessibilityMode(),$e("Accessibility mode enabled. Enhanced features are now active."),r(!1)},l=()=>{n.disableAccessibilityMode(),$e("Accessibility mode disabled."),r(!1)},u=Object.entries(n).filter(([x,f])=>typeof f=="boolean"&&f===!0&&!["accessibilityMode"].includes(x)).length;return t?e.jsxs(gr,{open:s,onOpenChange:r,children:[e.jsx(vr,{asChild:!0,children:e.jsxs(v,{variant:"ghost",size:"sm",className:"relative h-9 w-9 p-0","aria-label":"Accessibility settings",children:[e.jsx(ie,{className:"h-4 w-4"}),n.accessibilityMode&&e.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-[var(--spiral-coral)] rounded-full"})]})}),e.jsxs(es,{align:"end",className:"w-64",children:[e.jsxs(ts,{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4"}),"Accessibility"]}),e.jsx(xe,{}),n.accessibilityMode?e.jsxs(X,{onClick:l,className:"text-green-600",children:[e.jsx(Vs,{className:"mr-2 h-4 w-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Mode Active"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Click to disable"})]})]}):e.jsxs(X,{onClick:o,children:[e.jsx(Fe,{className:"mr-2 h-4 w-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Enable Accessibility Mode"}),e.jsx("div",{className:"text-xs text-gray-500",children:"One-click optimization"})]})]}),e.jsx(xe,{}),e.jsx(X,{asChild:!0,children:e.jsxs(m,{to:"/accessibility-settings",children:[e.jsx(ue,{className:"mr-2 h-4 w-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Detailed Settings"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[u," features enabled"]})]})]})})]})]}):e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5 text-[var(--spiral-coral)]"}),a&&e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Accessibility"}),u>0&&e.jsx(F,{variant:"secondary",className:"h-5 text-xs",children:u})]}),n.accessibilityMode?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"bg-green-100 text-green-800",children:"Mode Active"}),e.jsx(v,{onClick:l,variant:"outline",size:"sm",className:"h-8",children:"Disable"})]}):e.jsxs(v,{onClick:o,size:"sm",className:"h-8 bg-[var(--spiral-coral)] hover:bg-[var(--spiral-coral)]/90 text-white",children:[e.jsx(Fe,{className:"mr-1 h-3 w-3"}),"Enable Mode"]}),e.jsx(m,{to:"/accessibility-settings",children:e.jsx(v,{variant:"ghost",size:"sm",className:"h-8",children:e.jsx(ue,{className:"h-3 w-3"})})})]})}function qr(){const a=fe(x=>x.getTotalItems)(),{user:s,isAuthenticated:r,logout:n}=ee(),{toast:o}=ge(),[,l]=ve(),u=()=>{n(),o({title:"Logged out",description:"You have been successfully logged out.",duration:2e3})};return e.jsxs(e.Fragment,{children:[e.jsx(oa,{}),e.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50 border-b border-gray-100 hidden md:block",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs(m,{to:"/",className:"flex items-center gap-3 flex-shrink-0",children:[e.jsx("img",{src:"/spiral-blue.svg",alt:"SPIRAL Logo",className:"w-10 h-10 object-contain"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xl font-bold text-[var(--spiral-navy)] leading-none",children:"SPIRAL"}),e.jsx("span",{className:"text-xs text-gray-500 leading-none hidden sm:block",children:"Everything Local. Just for You."})]})]}),e.jsxs("nav",{className:"hidden lg:flex items-center space-x-6",children:[e.jsx(m,{to:"/",className:"text-gray-600 hover:text-[var(--spiral-coral)] px-2 py-1 rounded-md text-sm font-medium transition-colors",children:"Discover"}),e.jsx(m,{to:"/products",className:"text-gray-600 hover:text-[var(--spiral-coral)] px-2 py-1 rounded-md text-sm font-medium transition-colors",children:"Products"}),e.jsx(m,{to:"/malls",className:"text-gray-600 hover:text-[var(--spiral-coral)] px-2 py-1 rounded-md text-sm font-medium transition-colors",children:"Malls"}),e.jsx(m,{to:"/subscriptions",className:"text-gray-600 hover:text-[var(--spiral-coral)] px-2 py-1 rounded-md text-sm font-medium transition-colors",children:"Subscriptions"}),e.jsx(m,{to:"/spiral-centers",className:"text-gray-600 hover:text-[var(--spiral-coral)] px-2 py-1 rounded-md text-sm font-medium transition-colors",children:"SPIRAL Centers"}),e.jsx(m,{to:"/advanced-logistics",className:"text-gray-600 hover:text-[var(--spiral-coral)] px-2 py-1 rounded-md text-sm font-medium transition-colors",children:"Advanced Logistics"}),e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:"text-gray-600 hover:text-[var(--spiral-coral)] px-2 py-1 rounded-md text-sm font-medium transition-colors",children:"AI Retailers ↓"}),e.jsx("div",{className:"absolute top-full left-0 w-56 bg-white border border-gray-200 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:e.jsxs("div",{className:"p-2 space-y-1",children:[e.jsx(m,{to:"/ai-retailer-signup",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"🤖 AI Retailer Signup"}),e.jsx(m,{to:"/admin/retailer-applications",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"👥 Admin Applications"}),e.jsx(m,{to:"/ai-retailer-demo",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"🧪 AI Review Demo"}),e.jsx("div",{className:"border-t border-gray-200 my-1"}),e.jsx("div",{className:"px-3 py-1 text-xs text-gray-500",children:"AI-Powered Onboarding"})]})})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:"text-gray-600 hover:text-[var(--spiral-coral)] px-2 py-1 rounded-md text-sm font-medium transition-colors",children:"Features ▾"}),e.jsx("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white shadow-lg border border-gray-200 rounded-md opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:e.jsxs("div",{className:"p-2 space-y-1",children:[e.jsx(m,{to:"/shopper-onboarding",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"🎯 Shopper Onboarding"}),e.jsx(m,{to:"/enhanced-profile-settings",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"⚙️ Enhanced Profile Settings"}),e.jsx(m,{to:"/mall-gift-card-system",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"🎁 Mall Gift Card System"}),e.jsx(m,{to:"/multi-mall-cart",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"🛒 Multi-Mall Cart"}),e.jsx(m,{href:"/mobile-responsive-test",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"📱 Mobile Testing"}),e.jsx(m,{href:"/spiral-todo-progress",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"📊 Progress Dashboard"}),e.jsx(m,{href:"/comprehensive-feature-testing",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"🧪 Feature Testing"}),e.jsx(m,{href:"/wishlist-alerts-system",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"🔔 Wishlist Alerts"}),e.jsx(m,{href:"/tiered-spirals-engine",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"⭐ Tiered SPIRALS"}),e.jsx(m,{href:"/qr-pickup-system",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"📱 QR Pickup"}),e.jsx(m,{href:"/retailer-automation-flow",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"🏪 Retailer Setup"}),e.jsx(m,{href:"/gift-card-balance-checker",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"💳 Gift Card Balance"}),e.jsx(m,{href:"/push-notification-settings",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"🔔 Notifications"}),e.jsx(m,{href:"/admin-test-dashboard",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"🔧 Admin Tests"}),e.jsx(m,{href:"/mobile-app-base",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"📱 Mobile App Base"}),e.jsx(m,{href:"/gpt-integration-demo",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"🧠 GPT Integration"}),e.jsx(m,{href:"/vercel-ibm-integration",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"☁️ Vercel & IBM"})]})})]}),e.jsx(m,{to:"/trusted-local-stores",className:"text-gray-600 hover:text-[var(--spiral-coral)] px-2 py-1 rounded-md text-sm font-medium transition-colors",children:"Trusted Local"}),e.jsx(m,{to:"/social-feed",className:"text-gray-600 hover:text-[var(--spiral-coral)] px-2 py-1 rounded-md text-sm font-medium transition-colors",children:"Community"})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[e.jsx("div",{className:"hidden sm:block",children:e.jsx(je,{})}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(ia,{compact:!0,showProgress:!1})}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(Mr,{compact:!0,showLabel:!1})}),e.jsx(aa,{className:"lg:hidden"}),e.jsx(m,{to:"/cart",className:"hidden lg:block",children:e.jsxs(v,{variant:"outline",size:"sm",className:"relative border-[var(--spiral-coral)] text-[var(--spiral-coral)] hover:bg-[var(--spiral-coral)]/10",children:[e.jsx(be,{className:"h-4 w-4"}),a>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-[var(--spiral-coral)] text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold z-10",children:a})]})}),r?e.jsxs("div",{className:"hidden lg:flex items-center space-x-1",children:[e.jsx(m,{to:"/orders",children:e.jsxs(v,{variant:"ghost",size:"sm",className:"hidden sm:flex items-center space-x-1 text-gray-600 hover:text-gray-800",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden lg:inline text-sm",children:"Orders"})]})}),e.jsx(m,{to:"/loyalty",children:e.jsxs(v,{variant:"ghost",size:"sm",className:"hidden sm:flex items-center space-x-1 text-[var(--spiral-coral)] hover:text-[var(--spiral-coral)]/80",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden lg:inline text-sm",children:"Loyalty"})]})}),e.jsx(m,{to:"/wallet",children:e.jsxs(v,{variant:"ghost",size:"sm",className:"hidden sm:flex items-center space-x-1 text-purple-600 hover:text-purple-800",children:[e.jsx(Ys,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden lg:inline text-sm",children:"Wallet"})]})}),e.jsx(m,{to:"/profile",children:e.jsxs(v,{variant:"ghost",size:"sm",className:"hidden sm:flex items-center space-x-1 text-gray-600 hover:text-gray-800",children:[e.jsx(ye,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden lg:inline text-sm",children:s==null?void 0:s.name})]})}),e.jsxs(v,{variant:"ghost",size:"sm",onClick:u,className:"text-gray-600 hover:text-gray-800",children:[e.jsx(at,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden lg:inline ml-1 text-sm",children:"Log Out"})]})]}):e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(v,{onClick:()=>l("/onboarding"),variant:"outline",size:"sm",className:"text-[var(--spiral-coral)] border-[var(--spiral-coral)] hover:bg-[var(--spiral-coral)] hover:text-white text-sm",children:"Get Started"}),e.jsx(m,{href:"/login",children:e.jsx(v,{variant:"ghost",size:"sm",className:"hover:bg-gray-100 text-sm",children:"Sign In"})}),e.jsx(m,{href:"/signup",children:e.jsx(v,{size:"sm",className:"bg-[hsl(183,100%,23%)] hover:bg-[hsl(183,60%,40%)] text-white px-3 py-1.5 rounded-full font-medium text-sm",children:"Sign Up"})})]})]})]})})})]})}export{ie as A,qr as H,ia as L,qs as S,Qs as a,ot as b,ea as c,ta as d,Xs as u};
