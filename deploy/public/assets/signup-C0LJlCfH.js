import{r,w as I,u as D,j as e,L as p,B as x,C as k,a as q,b as R,q as T,d as B,I as c}from"./index-sTi6BLPu.js";import{L as d}from"./label-DXgakF6_.js";import{A as H,a as O}from"./alert-BVbwNNU_.js";import{u as W}from"./authStore-CZi0z4It.js";import{A as z}from"./arrow-left-DtuWXA6b.js";import{E as g}from"./eye-off-B114bCq3.js";import{E as w}from"./eye-BfDIBTgL.js";const V=()=>{const[l,v]=r.useState(""),[i,y]=r.useState(""),[h,b]=r.useState(""),[n,N]=r.useState(""),[m,C]=r.useState(!1),[u,S]=r.useState(!1),[a,f]=r.useState(!1),[j,t]=r.useState(""),[,P]=I(),{toast:A}=D(),{login:E}=W(),L=()=>n.trim()?l.trim()?!l.includes("@")||!l.includes(".")?(t("Please enter a valid email address"),!1):i.trim()?i.length<6?(t("Password must be at least 6 characters"),!1):i!==h?(t("Passwords do not match"),!1):!0:(t("Password is required"),!1):(t("Email is required"),!1):(t("Name is required"),!1),F=async s=>{if(s.preventDefault(),t(""),!!L()){f(!0),await new Promise(o=>setTimeout(o,1500));try{const o={email:l,name:n,loginTime:new Date().toISOString()};E(o),A({title:"Welcome to SPIRAL!",description:`Account created successfully. Welcome, ${n}!`,duration:4e3}),P("/")}catch{t("Registration failed. Please try again.")}f(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx(p,{href:"/",children:e.jsxs(x,{variant:"ghost",className:"mb-4",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Join SPIRAL"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Create your account to start shopping locally"})]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs(k,{children:[e.jsxs(q,{children:[e.jsx(R,{children:"Create Account"}),e.jsx(T,{children:"Sign up to discover amazing local businesses"})]}),e.jsxs(B,{children:[e.jsxs("form",{onSubmit:F,className:"space-y-6",children:[j&&e.jsx(H,{variant:"destructive",children:e.jsx(O,{children:j})}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"name",children:"Full Name"}),e.jsx(c,{id:"name",type:"text",value:n,onChange:s=>N(s.target.value),placeholder:"Enter your full name",className:"mt-1",disabled:a})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"email",children:"Email address"}),e.jsx(c,{id:"email",type:"email",value:l,onChange:s=>v(s.target.value),placeholder:"Enter your email",className:"mt-1",disabled:a})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(c,{id:"password",type:m?"text":"password",value:i,onChange:s=>y(s.target.value),placeholder:"Create a password",className:"pr-10",disabled:a}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>C(!m),disabled:a,children:m?e.jsx(g,{className:"h-4 w-4 text-gray-400"}):e.jsx(w,{className:"h-4 w-4 text-gray-400"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 6 characters"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(c,{id:"confirmPassword",type:u?"text":"password",value:h,onChange:s=>b(s.target.value),placeholder:"Confirm your password",className:"pr-10",disabled:a}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>S(!u),disabled:a,children:u?e.jsx(g,{className:"h-4 w-4 text-gray-400"}):e.jsx(w,{className:"h-4 w-4 text-gray-400"})})]})]}),e.jsx(x,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:a,children:a?"Creating Account...":"Create Account"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Already have an account?"})})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(p,{href:"/login",children:e.jsx(x,{variant:"ghost",className:"text-blue-600 hover:text-blue-700",children:"Sign in instead"})})})]})]})]})})]})};export{V as default};
