import{x as p,j as s,L as d,B as r,C as j,d as N,S as g,G as f,m as u}from"./index-sTi6BLPu.js";import{u as v}from"./useQuery-4av79AcX.js";import{S as l}from"./skeleton-BuZXPxt6.js";import{H as m}from"./header-DCxgILpP.js";import{F as c}from"./footer-BkibQi5K.js";import{V as b}from"./VerifiedBadge-Y98Gviuo.js";import{A as w}from"./arrow-left-DtuWXA6b.js";import{M as y}from"./map-pin-DZnENn3K.js";import{P as o}from"./phone-BLNZn_t1.js";import{M as k}from"./mail-DqqPECWJ.js";import{N as S}from"./navigation-C4cgsc30.js";import"./authStore-CZi0z4It.js";import"./shopping-cart-DjSog6GS.js";import"./user-DzNM48-o.js";import"./house-CU825Ekn.js";import"./building-2-CmMn_uHF.js";import"./truck-CNzMFiRQ.js";import"./users-n91sDYUr.js";import"./shopping-bag-B6bbBeT-.js";import"./store-fvM_Wsk5.js";import"./rocket-45aKcxBS.js";import"./shield-DYGAM3k4.js";import"./activity-_qjqvmcS.js";import"./search-BDvTlR0f.js";import"./credit-card-B1A0ZWNg.js";import"./select-U2_IWgob.js";import"./index-BdQq_4o_.js";import"./chevron-down-BDj7HIg7.js";import"./check-Cok4To_4.js";import"./globe-xPv-iFng.js";import"./eye-BfDIBTgL.js";import"./zap-1vep6Tn5.js";import"./wallet-CrGmaB25.js";function is(){const[,t]=p("/store/:id"),i=t!=null&&t.id?parseInt(t.id):null,{data:e,isLoading:x,error:h}=v({queryKey:["/api/stores",i],queryFn:async()=>{if(!i)throw new Error("Store ID is required");const a=await fetch(`/api/stores/${i}`);if(!a.ok)throw new Error("Failed to fetch store");return a.json()},enabled:!!i});return i?x?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(m,{}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx(l,{className:"h-6 w-32 mb-4"}),s.jsx(l,{className:"h-64 w-full rounded-lg mb-8"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsx(l,{className:"h-8 w-1/2"}),s.jsx(l,{className:"h-20 w-full"}),s.jsx(l,{className:"h-32 w-full"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(l,{className:"h-48 w-full"}),s.jsx(l,{className:"h-32 w-full"})]})]})]}),s.jsx(c,{})]}):h||!e?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(m,{}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-600 mb-4",children:"Store not found"}),s.jsx(d,{href:"/",children:s.jsx(r,{children:"Back to Home"})})]})}),s.jsx(c,{})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(m,{}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx(d,{href:"/",children:s.jsxs(r,{variant:"ghost",className:"mb-4",children:[s.jsx(w,{className:"h-4 w-4 mr-2"}),"Back to Stores"]})})}),s.jsxs(j,{className:"overflow-hidden shadow-lg",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:e.imageUrl||"https://images.unsplash.com/photo-1555529669-e69e7aa0ba9a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&h=400",alt:e.name,className:"w-full h-64 object-cover"}),s.jsx("div",{className:"absolute top-4 right-4",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${e.isOpen?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[s.jsx("div",{className:"inline-block w-2 h-2 bg-white rounded-full mr-1"}),e.isOpen?"Open Now":"Closed"]})})]}),s.jsx(N,{className:"p-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between",children:[s.jsxs("div",{className:"lg:w-2/3",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mr-4",children:e.name}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((a,n)=>s.jsx(g,{className:"h-4 w-4 fill-current"},n))}),s.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[e.rating," (",e.reviewCount," reviews)"]})]})]}),s.jsx("div",{className:"mb-4",children:s.jsx(b,{isVerified:e.isVerified||!1,tier:e.verificationTier})}),s.jsx("p",{className:"text-gray-600 mb-6",children:e.description}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Store Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(y,{className:"h-4 w-4 text-gray-400 mr-2"}),s.jsx("span",{children:e.address})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(o,{className:"h-4 w-4 text-gray-400 mr-2"}),s.jsx("span",{children:e.phone})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(k,{className:"h-4 w-4 text-gray-400 mr-2"}),s.jsx("span",{children:e.email})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Hours"}),s.jsx("div",{className:"text-sm text-gray-600",children:e.hours||"Hours not available"})]})]}),e.perks&&e.perks.length>0&&s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Current Perks & Offers"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.perks.map((a,n)=>s.jsxs("div",{className:"bg-spiral-blue bg-opacity-10 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(f,{className:"h-4 w-4 text-spiral-blue mr-2"}),s.jsx("span",{className:"font-medium text-spiral-blue",children:"Special Offer"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:a})]},n))})]})]}),s.jsxs("div",{className:"lg:w-1/3 lg:ml-8 mt-8 lg:mt-0",children:[s.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(r,{className:"w-full bg-spiral-blue text-white hover:bg-spiral-blue-dark",onClick:()=>window.open(`https://maps.google.com?q=${encodeURIComponent(e.address)}`,"_blank"),children:[s.jsx(S,{className:"h-4 w-4 mr-2"}),"Get Directions"]}),s.jsxs(r,{variant:"outline",className:"w-full",onClick:()=>window.open(`tel:${e.phone}`,"_self"),children:[s.jsx(o,{className:"h-4 w-4 mr-2"}),"Call Store"]}),s.jsxs(r,{variant:"outline",className:"w-full",onClick:()=>{var a;return(a=navigator.share)==null?void 0:a.call(navigator,{title:e.name,text:e.description,url:window.location.href})},children:[s.jsx(u,{className:"h-4 w-4 mr-2"}),"Share Store"]}),s.jsx(r,{variant:"outline",className:"w-full bg-blue-50 text-blue-600 hover:bg-blue-100",children:"Follow Store"})]})]}),s.jsxs("div",{className:"mt-6 bg-gray-50 p-6 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Store Details"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("span",{className:"text-gray-600 capitalize",children:["Category: ",e.category]})}),s.jsx("div",{className:"flex items-center",children:s.jsxs("span",{className:"text-gray-600",children:["ZIP Code: ",e.zipCode]})}),s.jsx("div",{className:"flex items-center",children:s.jsxs("span",{className:"text-gray-600",children:["Status: ",e.isOpen?"Open":"Closed"]})})]})]})]})]})})]})]}),s.jsx(c,{})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(m,{}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-600 mb-4",children:"Invalid store ID"}),s.jsx(d,{href:"/",children:s.jsx(r,{children:"Back to Home"})})]})}),s.jsx(c,{})]})}export{is as default};
