import{c as X,r as d,j as e,B as S,C as l,d as i,f as re,Q as B,e as f,a as v,b as C,S as I,q as le,G as ie,P as ne,l as ce,u as Q,X as W,s as Z,N as H,m as de,o as oe,F as xe,J as me,K as T,M as R}from"./index-sTi6BLPu.js";import{A as M,a as z}from"./alert-BVbwNNU_.js";import{R as V}from"./refresh-cw-bGZJGN_p.js";import{S as E}from"./shopping-cart-DjSog6GS.js";import{U as O}from"./users-n91sDYUr.js";import{C as _}from"./crown-lJXmlzyl.js";import{L as he}from"./loader-circle-DeSCpGTb.js";import{Z as K}from"./zap-1vep6Tn5.js";import{P as ee}from"./progress-Cf362TSq.js";import{S as U}from"./shopping-bag-B6bbBeT-.js";import{T as $}from"./trending-up-CRcGIWQN.js";import{C as se}from"./calendar-CZXggfH7.js";import{E as G}from"./eye-BfDIBTgL.js";import{S as ae}from"./separator-BcewAmr9.js";import{R as Y}from"./rocket-45aKcxBS.js";import{D as q}from"./download-DcxnRBbC.js";import{T as pe}from"./triangle-alert-CgctdoVb.js";import{L as J}from"./lock-Dv2jA9FR.js";import{I as ge}from"./image-DR1GDgjR.js";import{F as je}from"./file-text-C2cnxkpb.js";import{R as ue}from"./RetailerRecognition-Y4LQ_Goj.js";import{T as Ne}from"./target-fQiuIzjo.js";import{T as D}from"./trophy-aLkdP5FQ.js";import{S as fe}from"./store-fvM_Wsk5.js";import"./award-B7xB09Ib.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=X("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=X("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);function be({storeId:o="store_1",mallId:s="mall_1"}){const[j,N]=d.useState([]),[x,y]=d.useState(null),[b,m]=d.useState(!0),[a,u]=d.useState(new Date),p=async()=>{try{m(!0);const h=await(await fetch(`/api/trips-by-location?mallId=${s}&storeId=${o}`)).json();h.success&&N(h.trips||[]);const L=await(await fetch(`/api/trip-stats?mallId=${s}&storeId=${o}`)).json();L.success&&y(L.stats),u(new Date)}catch(t){console.error("Error fetching trips:",t)}finally{m(!1)}};d.useEffect(()=>{p();const t=setInterval(p,3e4);return()=>clearInterval(t)},[o,s]);const n=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),r=t=>new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Live Shopping Trips"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Real-time notifications of shopping groups in your area"})]}),e.jsxs(S,{onClick:p,variant:"outline",size:"sm",disabled:b,className:"flex items-center gap-2",children:[e.jsx(V,{className:`h-4 w-4 ${b?"animate-spin":""}`}),"Refresh"]})]}),x&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx(l,{children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Trips"}),e.jsx("p",{className:"text-2xl font-bold",children:x.totalTrips})]})]})})}),e.jsx(l,{children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Now"}),e.jsx("p",{className:"text-2xl font-bold",children:x.activeTrips})]})]})})}),e.jsx(l,{children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-5 w-5 text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Shoppers"}),e.jsx("p",{className:"text-2xl font-bold",children:x.totalParticipants})]})]})})}),e.jsx(l,{children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Est. Revenue"}),e.jsx("p",{className:"text-2xl font-bold",children:n(x.estimatedRevenue)})]})]})})}),e.jsx(l,{children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg. Cart"}),e.jsx("p",{className:"text-2xl font-bold",children:n(x.averageCartValue)})]})]})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Active Shopping Groups"}),e.jsxs(f,{variant:"secondary",className:"text-xs",children:["Last updated: ",r(a.toISOString())]})]}),b?e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx(V,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading trips..."})]}):j.length===0?e.jsx(l,{children:e.jsxs(i,{className:"p-8 text-center",children:[e.jsx(E,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No Active Shopping Trips"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"When shoppers create group shopping trips in your area, they'll appear here."})]})}):e.jsx("div",{className:"grid gap-4",children:j.map(t=>e.jsxs(l,{className:"relative",children:[e.jsxs(v,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(C,{className:"text-lg",children:t.tripName}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{variant:t.isActive?"default":"secondary",children:t.isActive?"Active":"Expired"}),e.jsxs(f,{variant:"outline",children:[t.participants,"/",t.maxParticipants," people"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{children:["Created: ",r(t.createdAt)]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:["Expires: ",r(t.expiresAt)]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:[n(t.estimatedValue)," potential"]})]})]}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"font-medium mb-2",children:["Cart Items (",Object.keys(t.cartItems||{}).length,")"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[Object.values(t.cartItems||{}).slice(0,4).map((h,w)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[e.jsx("span",{className:"text-sm",children:h.name}),e.jsx("span",{className:"text-sm font-medium",children:n(h.price)})]},w)),Object.keys(t.cartItems||{}).length>4&&e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 p-2",children:["+",Object.keys(t.cartItems||{}).length-4," more items"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(O,{className:"h-4 w-4"}),e.jsxs("span",{children:[t.potentialCustomers," potential customers"]})]}),e.jsx(S,{size:"sm",variant:"outline",children:"View Details"})]})]})})]},t.tripId))})]}),e.jsx(l,{className:"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Live Trip Notifications"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"This dashboard updates automatically every 30 seconds with new shopping trips in your area. Use this data to prepare inventory and anticipate customer visits."})]})]})})})]})}const we=({currentPlan:o,stripeCustomerEmail:s})=>{const[j,N]=d.useState(!1),x={silver:{price:29,icon:e.jsx(K,{className:"h-4 w-4"}),color:"bg-gray-100 text-gray-800"},gold:{price:79,icon:e.jsx(I,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},premium:{price:149,icon:e.jsx(_,{className:"h-4 w-4"}),color:"bg-purple-100 text-purple-800"}},y=async a=>{N(!0);try{const p=await(await fetch("/api/create-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planTier:a,retailerEmail:s})})).json();p.success&&p.url?window.location.href=p.url:(console.error("Upgrade failed:",p.error),alert("âš ï¸ Upgrade failed. "+(p.error||"Please try again.")))}catch(u){console.error("Upgrade request failed:",u),alert("âš ï¸ Network error. Please try again.")}finally{N(!1)}},m=(()=>{const a=[];return o==="Free"?a.push("silver","gold","premium"):o==="Silver"?a.push("gold","premium"):o==="Gold"&&a.push("premium"),a})();return m.length===0?e.jsxs(f,{className:"bg-green-100 text-green-800 border-green-200",children:[e.jsx(_,{className:"h-4 w-4 mr-1"}),"Premium Plan Active"]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Available Upgrades:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(a=>{const u=x[a];return e.jsxs(S,{onClick:()=>y(a),disabled:j,variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[j?e.jsx(he,{className:"h-4 w-4 animate-spin"}):u.icon,e.jsx("span",{className:"capitalize",children:a}),e.jsxs(f,{variant:"secondary",className:u.color,children:["$",u.price,"/mo"]})]},a)})}),o==="Free"&&e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Start with Silver to unlock advanced analytics and promotion tools"})]})},ke=({stripeCustomerId:o})=>{const[s,j]=d.useState(null),[N,x]=d.useState(!0);d.useEffect(()=>{o&&(async()=>{try{const r=await(await fetch(`/api/plan-status/${o}`)).json();j(r)}catch(n){console.error("Error fetching plan status:",n),j({plan:"Free",features:{}})}finally{x(!1)}})()},[o]);const y=p=>{switch(p){case"Premium":return e.jsx(_,{className:"h-5 w-5 text-purple-600"});case"Gold":return e.jsx(I,{className:"h-5 w-5 text-yellow-600"});case"Silver":return e.jsx(K,{className:"h-5 w-5 text-gray-600"});default:return e.jsx(ie,{className:"h-5 w-5 text-blue-600"})}},b=p=>{switch(p){case"Premium":return"bg-purple-100 text-purple-800 border-purple-200";case"Gold":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Silver":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}};if(N)return e.jsx(l,{className:"mb-6",children:e.jsx(v,{children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})})});const{plan:m,features:a,mock:u}=s||{};return e.jsxs(l,{className:"mb-6",children:[e.jsx(v,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[y(m),e.jsxs("div",{children:[e.jsx(C,{className:"text-xl",children:"Your SPIRAL Plan"}),e.jsx(le,{children:"Current subscription status and features"})]})]}),e.jsxs(f,{className:b(m),children:[m," Plan",u&&" (Demo)"]})]})}),e.jsxs(i,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"Product Listings:"}),e.jsx(f,{variant:"outline",children:(a==null?void 0:a.productListings)===-1?"Unlimited":(a==null?void 0:a.productListings)||0})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"Analytics:"}),e.jsx(f,{variant:a!=null&&a.advancedAnalytics?"default":"secondary",children:a!=null&&a.advancedAnalytics?"Advanced":"Basic"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"Promotion Boost:"}),e.jsx(f,{variant:a!=null&&a.promoBoost?"default":"secondary",children:a!=null&&a.promoBoost?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"Support:"}),e.jsx(f,{variant:a!=null&&a.prioritySupport?"default":"secondary",children:a!=null&&a.prioritySupport?"Priority":"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"Branding:"}),e.jsx(f,{variant:a!=null&&a.customBranding?"default":"secondary",children:a!=null&&a.customBranding?"Custom":"SPIRAL"})]})]}),m!=="Premium"&&e.jsx(we,{currentPlan:m,stripeCustomerEmail:"demo@retailer.com"}),m==="Free"&&e.jsx("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:"Upgrade to unlock:"})," Advanced analytics, promotion boost tools, and priority support"]})})]})]})},Se=({retailerId:o="demo_retailer_456"})=>{const[s,j]=d.useState([]),[N,x]=d.useState(0),[y,b]=d.useState(!0),[m,a]=d.useState(0),[u,p]=d.useState(0);return d.useEffect(()=>{(async()=>{try{const h=(await(await ce("GET",`/api/order/retailer/${o}`)).json()).orders||[];j(h);const w=h.reduce((A,F)=>{const te=parseFloat(F.totalAmount)||0;return A+te},0);x(w);const L=new Date;L.setDate(L.getDate()-30);const g=h.filter(A=>new Date(A.timestamp)>L).reduce((A,F)=>A+(parseFloat(F.totalAmount)||0),0);a(g);const k=new Date;k.setDate(k.getDate()-7);const P=h.filter(A=>new Date(A.timestamp)>k);p(P.length)}catch(r){console.error("Retailer order load error",r),j([])}finally{b(!1)}})()},[o]),y?e.jsx("div",{className:"space-y-6",children:e.jsxs(l,{children:[e.jsx(v,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Retailer Order Dashboard"]})}),e.jsx(i,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})})})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(l,{children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",N.toFixed(2)]})]})]})})}),e.jsx(l,{children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",m.toFixed(2)]})]})]})})}),e.jsx(l,{children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ne,{className:"h-8 w-8 text-purple-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold",children:s.length})]})]})})}),e.jsx(l,{children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(O,{className:"h-8 w-8 text-orange-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Weekly Orders"}),e.jsx("p",{className:"text-2xl font-bold",children:u})]})]})})})]}),e.jsxs(l,{children:[e.jsxs(v,{children:[e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Recent Orders"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.length," order",s.length!==1?"s":""," found"]})]}),e.jsx(i,{children:s.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(U,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No orders yet."}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Orders from customers will appear here."})]}):e.jsx("div",{className:"space-y-4",children:s.map(n=>{var r;return e.jsx(l,{className:"border-l-4 border-l-green-500",children:e.jsxs(i,{className:"pt-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold",children:["Order #",((r=n.orderId)==null?void 0:r.slice(-8))||"N/A"]}),e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(se,{className:"h-3 w-3"}),new Date(n.timestamp).toLocaleString()]})]}),e.jsx(f,{variant:"secondary",className:"bg-green-100 text-green-800",children:n.status||"Completed"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Customer"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:n.shopperId})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Order Total"}),e.jsxs("p",{className:"text-sm text-green-600 font-semibold",children:["$",typeof n.totalAmount=="number"?n.totalAmount.toFixed(2):n.totalAmount]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-4 w-4 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"SPIRALs Given"}),e.jsxs("p",{className:"text-sm text-orange-600 font-semibold",children:[n.spiralsEarned||0," points"]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(S,{size:"sm",variant:"outline",className:"w-full",children:[e.jsx(G,{className:"h-3 w-3 mr-1"}),"View Details"]})})]}),n.items&&n.items.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Items Sold:"}),e.jsx("div",{className:"space-y-1",children:n.items.map((t,h)=>e.jsxs("div",{className:"text-sm text-muted-foreground flex justify-between",children:[e.jsx("span",{children:t.name||"Product"}),e.jsxs("span",{children:["$",typeof t.price=="number"?t.price.toFixed(2):t.price]})]},h))})]})]})},n.orderId)})})})]}),e.jsxs(l,{children:[e.jsx(v,{children:e.jsx(C,{children:"Performance Insights"})}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Revenue Goal Progress"}),e.jsxs("span",{children:[Math.min(100,Math.round(m/5e3*100)),"%"]})]}),e.jsx(ee,{value:Math.min(100,m/5e3*100)}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Monthly goal: $5,000 | Current: $",m.toFixed(2)]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",s.length>0?(N/s.length).toFixed(2):"0.00"]}),e.jsx("p",{className:"text-sm text-blue-600",children:"Average Order Value"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.reduce((n,r)=>n+(r.spiralsEarned||0),0)}),e.jsx("p",{className:"text-sm text-green-600",children:"Total SPIRALs Given"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:new Set(s.map(n=>n.shopperId)).size}),e.jsx("p",{className:"text-sm text-purple-600",children:"Unique Customers"})]})]})]})})]})]})};function Ce({retailerId:o}){var L;const[s,j]=d.useState(null),[N,x]=d.useState([]),[y,b]=d.useState(!0),[m,a]=d.useState(""),[u,p]=d.useState(!1),{toast:n}=Q();d.useEffect(()=>{const c=async()=>{try{const P=await(await fetch(`/api/campaigns/status/${o}`)).json();j(P),b(!1)}catch(k){console.error("Failed to fetch campaign status:",k),b(!1)}};c();const g=setInterval(c,3e4);return()=>clearInterval(g)},[o]);const r=async()=>{try{const g=await(await fetch(`/api/campaigns/preview/${o}`)).json();if(g.success){x(g.previewAssets),n({title:"Preview Access Granted!",description:g.message});const P=await(await fetch(`/api/campaigns/status/${o}`)).json();j(P)}else n({title:"Preview Unavailable",description:g.error,variant:"destructive"})}catch{n({title:"Error",description:"Failed to load preview materials",variant:"destructive"})}},t=async()=>{try{const g=await(await fetch(`/api/campaigns/opt-out/${o}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:m||"Not aligned with my store"})})).json();if(g.success){n({title:g.alreadyOptedOut?"Already Opted Out":"Opt-Out Confirmed",description:g.message});const P=await(await fetch(`/api/campaigns/status/${o}`)).json();j(P),p(!1),a("")}}catch{n({title:"Error",description:"Failed to opt out of campaign",variant:"destructive"})}},h=c=>{const g=Math.floor(c/1e3/60/60),k=Math.floor(c%(1e3*60*60)/1e3/60),P=Math.floor(c%(1e3*60)/1e3);return g>0?`${g}h ${k}m ${P}s`:k>0?`${k}m ${P}s`:`${P}s`},w=c=>{const g=new Date(c);return g.toLocaleDateString()+" at "+g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return y?e.jsx(l,{children:e.jsxs(i,{className:"flex items-center justify-center p-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2",children:"Loading campaign status..."})]})}):!s||!s.active?e.jsxs(l,{className:"border-dashed border-2 border-gray-300",children:[e.jsx(v,{className:"text-center",children:e.jsx(C,{className:"flex items-center justify-center gap-2",children:"ðŸ“¢ SPIRAL National Campaign"})}),e.jsx(i,{className:"text-center",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No active campaigns at this time. Stay tuned for upcoming SPIRAL national campaigns!"})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{children:[e.jsxs(v,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-6 w-6 text-blue-600"}),s.title||"SPIRAL National Campaign"]}),e.jsxs("div",{className:"flex gap-2",children:[s.earlyAdopter&&e.jsxs(f,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:[e.jsx(O,{className:"h-3 w-3 mr-1"}),"Early Adopter"]}),e.jsx(f,{variant:s.status==="live"?"default":"secondary",className:s.status==="live"?"bg-green-100 text-green-800":"",children:s.status==="live"?"ðŸ”´ LIVE":"â° Scheduled"})]})]}),s.message&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:s.message})]}),e.jsxs(i,{className:"space-y-6",children:[s.optedOut&&e.jsxs(M,{className:"border-red-200 bg-red-50",children:[e.jsx(W,{className:"h-4 w-4 text-red-600"}),e.jsxs(z,{className:"text-red-800",children:["âŒ ",e.jsx("strong",{children:"You have opted out of this campaign."})," You will not receive campaign materials or notifications."]})]}),s.status==="live"&&!s.optedOut&&e.jsxs(M,{className:"border-green-200 bg-green-50",children:[e.jsx(Z,{className:"h-4 w-4 text-green-600"}),e.jsxs(z,{className:"text-green-800",children:["ðŸŽ‰ ",e.jsx("strong",{children:"Campaign is LIVE!"})," Download your campaign materials now and start posting."]})]}),s.status==="scheduled"&&s.countdown&&s.countdown>0&&!s.optedOut&&e.jsx(l,{className:"bg-blue-50 dark:bg-blue-900/20",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx(ye,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Launching in:"}),e.jsx("p",{className:"text-3xl font-bold text-blue-800 dark:text-blue-400",children:h(s.countdown)}),s.launchDate&&e.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[e.jsx(se,{className:"h-3 w-3 inline mr-1"}),w(s.launchDate)]})]})]})})}),!s.optedOut&&e.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.status==="live"&&e.jsxs(S,{size:"lg",className:"bg-green-600 hover:bg-green-700 flex-1",onClick:()=>window.open("/api/campaigns/list","_blank"),children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Download Campaign Pack"]}),s.status==="scheduled"&&e.jsxs(S,{variant:"outline",onClick:r,className:"flex-1",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),s.earlyAdopter?"View Preview Again":"Get Early Preview"]}),e.jsxs(S,{variant:"destructive",onClick:()=>p(!0),size:"sm",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"Opt Out"]})]}),N.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(ae,{}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4"}),"Campaign Preview Materials"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:N.map((c,g)=>e.jsx(l,{className:"p-3 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 mb-2 min-h-[80px] flex items-center justify-center",children:e.jsxs("span",{className:"text-xs text-gray-500",children:[c.name," Preview"]})}),e.jsx("p",{className:"text-xs font-medium",children:c.name}),e.jsx("p",{className:"text-xs text-gray-500",children:c.description})]})},g))})]})]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Campaign ID:"}),e.jsxs("p",{className:"font-mono text-xs",children:[(L=s.campaignId)==null?void 0:L.slice(0,8),"..."]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Status:"}),e.jsx("p",{className:"capitalize",children:s.status})]}),s.launchDate&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-gray-500",children:"Launch Date:"}),e.jsx("p",{children:w(s.launchDate)})]})]})})]})]}),u&&e.jsxs(l,{className:"border-red-200",children:[e.jsx(v,{children:e.jsxs(C,{className:"text-red-600 flex items-center gap-2",children:[e.jsx(pe,{className:"h-5 w-5"}),"Opt Out of Campaign"]})}),e.jsxs(i,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to opt out of this campaign? You will not receive any campaign materials or notifications."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Reason (optional):"}),e.jsxs("select",{value:m,onChange:c=>a(c.target.value),className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"",children:"Select a reason..."}),e.jsx("option",{value:"Not aligned with my store brand",children:"Not aligned with my store brand"}),e.jsx("option",{value:"Timing doesn't work for my business",children:"Timing doesn't work for my business"}),e.jsx("option",{value:"Content not suitable for my audience",children:"Content not suitable for my audience"}),e.jsx("option",{value:"Too busy with other campaigns",children:"Too busy with other campaigns"}),e.jsx("option",{value:"Technical issues",children:"Technical issues"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(S,{variant:"destructive",onClick:t,className:"flex-1",children:"Confirm Opt-Out"}),e.jsx(S,{variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Cancel"})]})]})]})]})}function Pe({retailerId:o="demo_retailer_1"}){const[s,j]=d.useState(!1),[N,x]=d.useState(!0),[y,b]=d.useState([]),[m,a]=d.useState(!1),{toast:u}=Q();d.useEffect(()=>{async function r(){try{const h=await(await fetch(`/api/campaigns/status/${o}`)).json();j(h.unlocked||h.active),x(!1)}catch(t){console.error("Failed to check campaign status:",t),x(!1)}}r()},[o]),d.useEffect(()=>{if(s){async function r(){try{const h=await(await fetch("/api/campaigns/list")).json();b(h)}catch(t){console.error("Failed to load campaigns:",t),u({title:"Error",description:"Failed to load campaign materials",variant:"destructive"})}}r()}},[s,u]);const p=r=>r.toLowerCase().includes("tiktok")||r.toLowerCase().includes("video")?e.jsx(ve,{className:"h-5 w-5 text-pink-600"}):r.toLowerCase().includes("instagram")||r.toLowerCase().includes("graphics")?e.jsx(ge,{className:"h-5 w-5 text-purple-600"}):r.toLowerCase().includes("facebook")||r.toLowerCase().includes("posts")?e.jsx(de,{className:"h-5 w-5 text-blue-600"}):r.toLowerCase().includes("qr")||r.toLowerCase().includes("flyer")?e.jsx(je,{className:"h-5 w-5 text-green-600"}):e.jsx(q,{className:"h-5 w-5 text-gray-600"}),n=r=>{const t=document.createElement("a");t.href=r.download,t.download=r.name,document.body.appendChild(t),t.click(),document.body.removeChild(t),u({title:"Download Started",description:`${r.name} is being downloaded`})};return N?e.jsx(l,{children:e.jsxs(i,{className:"flex items-center justify-center p-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2",children:"Loading campaign status..."})]})}):s?e.jsxs("div",{children:[e.jsxs(l,{children:[e.jsxs(v,{children:[e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5 text-blue-600"}),"SPIRAL Social Campaign Pack",e.jsx(f,{variant:"default",className:"ml-2",children:"Live"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"ðŸŽ‰ Your campaigns are ready! Share across TikTok, Instagram, Facebook, and X with one click."})]}),e.jsxs(i,{className:"space-y-4",children:[y.length===0?e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No campaigns available"}):e.jsx("div",{className:"space-y-3",children:y.map((r,t)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[p(r.name),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:r.name}),r.description&&e.jsx("p",{className:"text-sm text-gray-500",children:r.description})]})]}),e.jsxs(S,{onClick:()=>n(r),className:"bg-yellow-500 hover:bg-yellow-600 text-white",size:"sm",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Download"]})]}),t<y.length-1&&e.jsx(ae,{})]},t))}),e.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg flex-1 mr-4",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Pro Tip:"})," Each pack contains ready-to-use content optimized for the specific platform. Simply download, customize with your store details, and share to maximize your reach!"]})}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>a(!m),children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),m?"Simple View":"Advanced"]})]})]})]}),m&&e.jsx("div",{className:"mt-6",children:e.jsx(Ce,{retailerId:o})})]}):e.jsxs(l,{className:"border-dashed border-2 border-gray-300",children:[e.jsxs(v,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 p-3 bg-gray-100 rounded-full w-fit",children:e.jsx(J,{className:"h-8 w-8 text-gray-500"})}),e.jsxs(C,{className:"flex items-center justify-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),"SPIRAL Social Campaign Pack"]})]}),e.jsxs(i,{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"ðŸš€ This feature will be unlocked by SPIRAL Admin during a coordinated national launch. Be ready!"}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[e.jsx("strong",{children:"Coming Soon:"})," Professional marketing materials for TikTok, Instagram, Facebook, and X (Twitter) will be available here when campaigns go live."]})}),e.jsxs(S,{disabled:!0,className:"bg-gray-400 cursor-not-allowed",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Locked"]})]})]})}function Ae({retailerId:o}){const[s,j]=d.useState(!0),[N,x]=d.useState(0),[y,b]=d.useState([]),[m,a]=d.useState(null),[u,p]=d.useState(!1);async function n(){j(!0);try{const w=await(await fetch(`/api/recognition/progress/${o}`)).json();w.ok&&(x(w.engagement||0),b(w.badges||[]),a(w.progress||null))}catch(h){console.error("Failed to fetch progress:",h)}finally{j(!1)}}d.useEffect(()=>{n()},[o]);async function r(){p(!0);try{await fetch(`/api/recognition/recompute/${o}`,{method:"POST"}),await n()}catch(h){console.error("Failed to recalculate:",h)}finally{p(!1)}}if(s||!m)return e.jsxs(l,{className:"animate-pulse",children:[e.jsx(v,{children:e.jsx("div",{className:"h-6 bg-gray-200 rounded w-64"})}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})]});const t=[{key:"RisingStar",label:"Rising Star",icon:e.jsx(I,{className:"h-4 w-4 text-yellow-500"})},{key:"LoyaltyLeader",label:"Loyalty Leader",icon:e.jsx(O,{className:"h-4 w-4 text-blue-500"})},{key:"CommunityAnchor",label:"Community Anchor",icon:e.jsx(D,{className:"h-4 w-4 text-purple-500"})},{key:"TopPerformerTier",label:"Top Performer in Tier",icon:e.jsx($,{className:"h-4 w-4 text-green-500"})}];return e.jsxs(l,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsxs(v,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(C,{className:"flex items-center gap-3",children:[e.jsx(Ne,{className:"h-6 w-6 text-blue-600"}),e.jsx("span",{children:"Your Progress & Next Milestones"})]}),e.jsxs(S,{onClick:r,disabled:u,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(V,{className:`h-4 w-4 ${u?"animate-spin":""}`}),u?"Refreshingâ€¦":"Refresh Progress"]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4 p-4 bg-white dark:bg-gray-800 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"font-medium",children:"Current Engagement Score:"})]}),e.jsx(f,{variant:"secondary",className:"text-lg font-bold px-3 py-1",children:N})]})]}),e.jsxs(i,{className:"space-y-6",children:[e.jsx("div",{className:"grid gap-4",children:t.map(({key:h,label:w,icon:L})=>{const c=m[h],g=(c==null?void 0:c.target)??100,k=Math.min((c==null?void 0:c.current)??0,g),P=Math.min(100,Math.round(k/g*100)),A=!!(c!=null&&c.met);return e.jsx(l,{className:`transition-all duration-200 ${A?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-white dark:bg-gray-800"}`,children:e.jsxs(i,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[L,w]}),e.jsx("div",{className:`text-sm font-medium ${A?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:A?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"h-4 w-4"}),"Achieved!"]}):`${k} / ${g}`})]}),!A&&e.jsxs(e.Fragment,{children:[e.jsx(ee,{value:P,className:"mb-3"}),(c==null?void 0:c.extra)&&e.jsx("div",{className:"text-xs text-amber-600 dark:text-amber-400 mb-2 p-2 bg-amber-50 dark:bg-amber-900/20 rounded",children:c.extra}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[e.jsx("strong",{children:"ðŸ’¡ Tip:"})," ",c==null?void 0:c.tip]})]})]})},h)})}),e.jsxs(l,{children:[e.jsx(v,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5 text-yellow-500"}),"Your Achievement Badges"]})}),e.jsx(i,{children:e.jsx("div",{className:"flex flex-wrap gap-3",children:y.length?y.map((h,w)=>e.jsxs(f,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white hover:from-yellow-500 hover:to-orange-600 px-4 py-2 text-sm font-semibold shadow-lg",children:[e.jsx(D,{className:"h-3 w-3 mr-1"}),h]},w)):e.jsxs("div",{className:"text-center w-full p-6 bg-gray-50 dark:bg-gray-800 rounded-lg border-2 border-dashed",children:[e.jsx(D,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No badges yetâ€”follow the tips above to earn your first!"})]})})})]}),e.jsx(l,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:e.jsxs(i,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"ðŸš€ Boost Your Engagement Score"}),e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Campaign Previews:"})," +5 points each"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Campaign Downloads:"})," +10 points each"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Posts Published:"})," +20 points each"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Social Shares:"})," +15 points each"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"QR Code Scans:"})," +2 points each"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"SPIRAL Redemptions:"})," +0.1 points each (max 300)"]})]})]})})]})]})}function es(){const[o,s]=d.useState("trips"),[j,N]=d.useState(!1);d.useEffect(()=>{if(new URLSearchParams(window.location.search).get("subscribed")==="1"){N(!0),setTimeout(()=>N(!1),5e3);const m=new URL(window.location.href);m.searchParams.delete("subscribed"),window.history.replaceState({},document.title,m.pathname),window.location.reload()}},[]);const x={storeName:"Local Electronics Store",storeId:"store_1",mallId:"mall_1",location:"Downtown Shopping Center",status:"Verified",todaySales:1247.5,weekSales:8932.75,monthSales:42156.3,spiralBalance:15780,spiralsPaidOut:3240,spiralsEarned:890,stripeCustomerId:"cus_demo_gold"};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(fe,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:x.storeName}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[x.location," â€¢ ",e.jsx(f,{variant:"secondary",children:x.status})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Settings"]}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),"Notifications"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[j&&e.jsxs(M,{className:"mb-6 border-green-200 bg-green-50",children:[e.jsx(Z,{className:"h-4 w-4 text-green-600"}),e.jsxs(z,{className:"text-green-800",children:[e.jsx("strong",{children:"Subscription Activated!"})," Your plan upgrade is now active and all premium features are available."]})]}),e.jsx(ke,{stripeCustomerId:x.stripeCustomerId}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(l,{children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-lg",children:e.jsx($,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Today's Sales"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["$",x.todaySales.toFixed(2)]})]})]})})}),e.jsx(l,{children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(E,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This Week"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["$",x.weekSales.toFixed(2)]})]})]})})}),e.jsx(l,{children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:e.jsx(O,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This Month"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["$",x.monthSales.toFixed(2)]})]})]})})}),e.jsx(l,{children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900 rounded-lg",children:e.jsx(I,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"SPIRAL Balance"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:x.spiralBalance.toLocaleString()}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",x.spiralsEarned," this week"]})]})]})})})]}),e.jsxs(xe,{value:o,onValueChange:s,className:"space-y-6",children:[e.jsxs(me,{className:"grid w-full grid-cols-7",children:[e.jsx(T,{value:"trips",children:"Live Shopping Trips"}),e.jsx(T,{value:"recognition",children:"Recognition"}),e.jsx(T,{value:"orders",children:"Orders"}),e.jsx(T,{value:"inventory",children:"Inventory"}),e.jsx(T,{value:"analytics",children:"Analytics"}),e.jsx(T,{value:"campaigns",children:"Social Campaigns"}),e.jsx(T,{value:"customers",children:"Customers"})]}),e.jsx(R,{value:"trips",className:"space-y-6",children:e.jsx(be,{storeId:x.storeId,mallId:x.mallId})}),e.jsx(R,{value:"recognition",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(ue,{retailerId:"retailer_1"}),e.jsx(Ae,{retailerId:"retailer_1"})]})}),e.jsx(R,{value:"orders",className:"space-y-6",children:e.jsx(Se,{retailerId:x.storeId})}),e.jsx(R,{value:"inventory",className:"space-y-6",children:e.jsxs(l,{children:[e.jsx(v,{children:e.jsx(C,{children:"Inventory Management"})}),e.jsx(i,{children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Inventory management tools will be displayed here."})})]})}),e.jsx(R,{value:"analytics",className:"space-y-6",children:e.jsxs(l,{children:[e.jsx(v,{children:e.jsx(C,{children:"Sales Analytics"})}),e.jsx(i,{children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Detailed analytics and reporting tools will be displayed here."})})]})}),e.jsx(R,{value:"campaigns",className:"space-y-6",children:e.jsx(Pe,{})}),e.jsx(R,{value:"customers",className:"space-y-6",children:e.jsxs(l,{children:[e.jsx(v,{children:e.jsx(C,{children:"Customer Management"})}),e.jsx(i,{children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Customer relationship management tools will be displayed here."})})]})})]})]})]})}export{es as default};
